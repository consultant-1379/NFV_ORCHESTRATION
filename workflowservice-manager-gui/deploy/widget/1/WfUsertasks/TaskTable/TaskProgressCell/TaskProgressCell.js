/* Copyright (c) Ericsson 2015 */

define("styles!widget/WfUsertasks/TaskTable/TaskProgressCell/TaskProgressCell.less",function(){return".eaNFE_automation_UI-TaskTable-TaskProgressCell-progress {\n  min-width: 0px;\n  padding-left: 0;\n  padding-right: 0;\n  border-left-width: 0;\n  border-right-width: 0;\n  white-space: nowrap;\n  height: 25px;\n  line-height: 15px;\n  margin-left: 5px;\n  background-color: #953882;\n  color: #ffffff;\n  text-align: right;\n  font-size: 10px;\n}\n.eaNFE_automation_UI-TaskTable-TaskProgressCell-unfinished {\n  height: 25px;\n  padding-left: 0;\n  padding-right: 0;\n  border-left-width: 0;\n  border-right-width: 0;\n  white-space: nowrap;\n  line-height: 15px;\n  position: relative;\n  left: -5px;\n  background-color: #D2D2D2;\n  color: #000000;\n  text-align: left;\n  font-size: 10px;\n}\n"}),define("text!widget/WfUsertasks/TaskTable/TaskProgressCell/TaskProgressCell.html",function(){return'<div>\r\n	<label class="ebTextArea ebTextArea_noMargin eaNFE_automation_UI-TaskTable-TaskProgressCell-progress" style="width:0px;"></label>\r\n	<label class="ebTextArea ebTextArea_noMargin eaNFE_automation_UI-TaskTable-TaskProgressCell-unfinished" style="width:0px;"></label>\r\n</div>'}),define("widget/WfUsertasks/TaskTable/TaskProgressCell/TaskProgressCellView",["jscore/core","text!./TaskProgressCell.html","styles!./TaskProgressCell.less"],function(e,t,s){return e.View.extend({getTemplate:function(){return t},getStyle:function(){return s},getProgress:function(){return this.getElement().find(".eaNFE_automation_UI-TaskTable-TaskProgressCell-progress")},setProgress:function(e,t){width=e*t/100,this.getProgress().setAttribute("style","width:"+width+"px;"),this.getUnfinished().setAttribute("style","width:"+(t-width)+"px;"),e>50?this.getProgress().setText(e+"%"):this.getUnfinished().setText(e+"%")},getUnfinished:function(){return this.getElement().find(".eaNFE_automation_UI-TaskTable-TaskProgressCell-unfinished")}})}),define("widget/WfUsertasks/TaskTable/TaskProgressCell/TaskProgressCell",["jscore/core","./TaskProgressCellView"],function(e,t){return e.Widget.extend({View:t,onViewReady:function(){var e=80;this.attachTo(this.view.setProgress(this.options.taskCompletePercent,e)),executeButton.addEventHandler("click",function(e){var t=this.getRow().getData();this.getEventBus().publish("executetask",t)},this);this.view.getTotal();diagramButton.addEventHandler("click",function(e){this.getEventBus().publish("showdiagram",this.getRow().getData())},this)}})});