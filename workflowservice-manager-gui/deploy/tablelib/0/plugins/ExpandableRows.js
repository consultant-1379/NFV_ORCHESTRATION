/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("text!tablelib/plugins/expandablerows/expandercell/ExpanderCell.html",[],function(){return'<td>\n	<i class="ebIcon ebIcon_interactive ebIcon_rightArrow"></i>\n</td>'}),define("tablelib/plugins/expandablerows/expandercell/ExpanderCellView",["jscore/core","text!./ExpanderCell.html"],function(e,t){return e.View.extend({getTemplate:function(){return t},getIcon:function(){return this.getElement().find(".ebIcon")}})}),define("tablelib/plugins/expandablerows/expandercell/ExpanderCell",["tablelib/Cell","./ExpanderCellView"],function(e,t){return e.extend({View:t,onCellReady:function(){this._expanded=!1,this.getElement().addEventHandler("click",this.toggle.bind(this))},setValue:function(){},toggle:function(e){e.stopPropagation(),this._expanded=!this._expanded;var t=this._expanded?"rightArrow":"downArrow",n=this._expanded?"downArrow":"rightArrow";this.view.getIcon().removeModifier(t),this.view.getIcon().setModifier(n),this._expanded&&!this._content?this.onExpand():this._expanded?this.onExpand():this.onCollapse()}})}),define("tablelib/plugins/Plugin",["jscore/core"],function(e){var t=function(e){this.options=e||{},this.init.apply(this,arguments)};return t.prototype.init=function(){},t.prototype.getOptions=function(){return this.options},t.prototype.getTable=function(){return this._table},t.prototype.injections={before:{},after:{},newMethods:{}},t.extend=e.extend,t}),define("tablelib/plugins/expandablerows/ExpandableRows",["jscore/core","../Plugin","./expandercell/ExpanderCell","tablelib/Row","jscore/ext/utils/base/underscore"],function(e,t,n,i,o){function a(){this.getTable()._columns.unshift({cellType:n,width:"40px"})}function l(t,n){var o=this.getTable(),a=o.getRows()[void 0!==n?n:o.getRows().length-1],l=e.Element.parse(c.replace("{{colspan}}",o._columns.length));l.attach=function(){var e=a.getElement()._getHTMLElement();e.parentNode.insertBefore(l._getHTMLElement(),e.nextSibling)},l.attach();var p=d(a);p.onExpand=r.bind(this,a,l),p.onCollapse=s.bind(this,a,l),a.detach=function(){i.prototype.detach.call(a),l.detach()},a.attach=function(){i.prototype.attach.call(a),l.attach()},a.destroy=function(){i.prototype.destroy.call(a),l.remove()}}function r(e,t){var n=t.find("div");if(n._timeout&&n.removeEventHandler(n._timeout),!n._contentInstance){var i=o.clone(this.options.args||{});i.row=e,n._contentInstance=new this.options.content(i),n._contentInstance.attachTo(n)}n._contentInstance.attach(),t.setStyle("display","table-row"),t.setModifier("expanded");var a=n._contentInstance.getElement().getProperty("offsetHeight")+"px";n.setStyle("height",a),n._timeout=n.addEventHandler("transitionend",function(){n.setStyle("height","auto")}.bind(this))}function s(e,t){var n=t.find("div");n.setStyle("height",n.getProperty("offsetHeight")+"px"),n._timeout&&n.removeEventHandler(n._timeout),requestAnimationFrame(function(){requestAnimationFrame(function(){n.setStyle("height",0),n._timeout=n.addEventHandler("transitionend",function(){n._contentInstance.detach(),t.setStyle("display","none"),t.removeModifier("expanded")})})})}function d(e){for(var t=e.getCells(),i=0;i<t.length;i++)if(t[i]instanceof n)return t[i]}var c="<tr class='ebTable-expandableRow'><td colspan='{{colspan}}'><div></div></td></tr>";return t.extend({injections:{before:{onViewReady:a},after:{addRow:l}}})}),define("tablelib/plugins/ExpandableRows",["tablelib/plugins/expandablerows/ExpandableRows"],function(e){return e});