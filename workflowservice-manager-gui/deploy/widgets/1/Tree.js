/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("text!widgets/Tree/_tree.html",[],function(){return'<ul class="ebTree"></ul>'}),define("widgets/Tree/TreeView",["jscore/core","text!./_tree.html"],function(e,t){return e.View.extend({getTemplate:function(){return t}})}),define("widgets/Tree/Tree",["jscore/core","widgets/WidgetCore","./TreeView","widgets/tree/Item","widgets/utils/domUtils","widgets/tree/Resolver"],function(e,t,i,n,s,r){function o(e,t,i,n){this.getElement().setStyle("margin-top",i+"px"),this.getElement().setStyle("margin-bottom",-i+"px"),s["slide"+e](this.getElement(),{duration:300,complete:function(){this.getElement().setStyle("margin-top",0),this.getElement().setStyle("margin-bottom",0),t&&t()}.bind(this),start:function(e){e.tweens.forEach(function(e){"marginTop"===e.prop?(e.start=i,e.end=n):"marginBottom"===e.prop&&(e.start=-i,e.end=-n)})}})}function d(e,t){if(t._parent=e,t.children)for(var i=0;i<t.children.length;i++)d(t,t.children[i])}var h=t.extend({View:i,init:function(t){t&&(this._parentItem=void 0!==t.parentItem?t.parentItem:void 0,t.eventBus&&(this._eventBus=t.eventBus)),this._eventBus||(this._eventBus=new e.EventBus),this._itemWidgets=[]},onViewReady:function(){var e=this.options.items;if(this._parentItem&&this.getElement().setStyle("display","none"),void 0===this._parentItem&&(this._eventBus.subscribe("_itemexpand",function(e){this.trigger("itemexpand",e)},this),this._eventBus.subscribe("_itemcollapse",function(e){this.trigger("itemcollapse",e)},this),this._eventBus.subscribe("_itemselect",function(e){this.deselect(),e.view.getItemContent().setModifier("selected"),this._lastSelectedItem=e,this.trigger("itemselect",e)},this),this._eventBus.subscribe("_itemdestroy",function(e){this.trigger("itemdestroy",e)},this),e)){for(var t=0;t<e.length;t++)d(void 0,e[t]);for(var i=0;i<e.length;i++)r.resolveCheckbox(e[i])}e&&e.forEach(function(e){this.addItem(e)}.bind(this))},addItem:function(e){var t=new n({item:e,Tree:h,parentTree:this,eventBus:this._eventBus,parentItem:this._parentItem});t.attachTo(this.getElement()),this._itemWidgets.push(t)},getItems:function(){return this._itemWidgets},getItem:function(e){return this._itemWidgets[e]},removeItem:function(e){for(var t=0;t<this._itemWidgets.length;t++)if(this._itemWidgets[t]===e){this._itemWidgets.splice(t,1);break}e.destroy()},expand:function(){o.call(this,"Down",void 0,-5,0)},collapse:function(){o.call(this,"Up",void 0,0,-5)},deselect:function(){this._lastSelectedItem&&this._lastSelectedItem.view.getItemContent().removeModifier("selected"),this._lastSelectedItem=void 0}});return h}),define("widgets/Tree",["widgets/Tree/Tree"],function(e){return e});