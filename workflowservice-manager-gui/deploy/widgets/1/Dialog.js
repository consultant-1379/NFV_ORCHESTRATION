/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("template!widgets/Dialog/_dialog.html",["jscore/handlebars/handlebars"],function(t){return t.template(function(t,n,i,e,o){function s(){return'\n                <div class="ebDialogBox-icon">\n                    <span class="ebDialog-topRightButton ebIcon ebIcon_close ebIcon_interactive"></span>\n                </div>\n                '}function r(){return'\n                <div class="ebDialogBox-primaryText"></div>\n                <div class="ebDialogBox-secondaryText"></div>\n                <div class="ebDialogBox-thirdText"></div>\n                '}i=i||t.helpers;var a,h,c,d,l="",u=this;return l+='<div class="ebDialog">\n    <div class="ebDialog-holder">\n        <div class="ebDialogBox">\n            <div class="ebDialogBox-contentBlock">\n                ',c=i.topRightCloseBtn,a=c||n.topRightCloseBtn,h=i["if"],d=u.program(1,s,o),d.hash={},d.fn=d,d.inverse=u.noop,a=h.call(n,a,d),(a||0===a)&&(l+=a),l+="\n                ",c=i.fullContent,a=c||n.fullContent,h=i.unless,d=u.program(3,r,o),d.hash={},d.fn=d,d.inverse=u.noop,a=h.call(n,a,d),(a||0===a)&&(l+=a),l+='\n            </div>\n            <div class="ebDialogBox-actionBlock">\n                <button class="ebBtn ebBtn_color_darkBlue ebDialog-primaryActionButton"></button>\n                <button class="ebBtn ebDialog-secondaryActionButton"></button>\n                <button class="ebBtn ebDialog-thirdActionButton"></button>\n            </div>\n        </div>\n    </div>\n</div>\n'})}),define("widgets/Dialog/DialogView",["jscore/core","template!./_dialog.html"],function(t,n){"use strict";var i=t.View.extend({afterRender:function(){this.contentBlock=this.getElement().find("."+i.EL_CONTENT_BLOCK),this.header=this.getElement().find("."+i.EL_HEADER),this.content=this.getElement().find("."+i.EL_CONTENT),this.optionalContent=this.getElement().find("."+i.EL_OPTIONAL_CONTENT),this.actionBlock=this.getElement().find("."+i.EL_ACTION_BLOCK),this.primaryBtn=this.getElement().find("."+i.EL_PRIMARY_BTN),this.secondaryBtn=this.getElement().find("."+i.EL_SECONDARY_BTN),this.thirdBtn=this.getElement().find("."+i.EL_THIRD_BTN),this.topRightBtn=this.getElement().find("."+i.EL_TOP_RIGHT_BTN)},getTemplate:function(){return n(this.options)},getRoot:function(){return this.getElement()},getContentBlock:function(){return this.contentBlock},getHeader:function(){return this.header},getContent:function(){return this.content},getOptionalContent:function(){return this.optionalContent},getActionBlock:function(){return this.actionBlock},getPrimaryButton:function(){return this.primaryBtn},getSecondaryButton:function(){return this.secondaryBtn},getThirdButton:function(){return this.thirdBtn},getTopRightCloseBtn:function(){return this.topRightBtn}},{EL_CONTENT_BLOCK:"ebDialogBox-contentBlock",EL_HEADER:"ebDialogBox-primaryText",EL_CONTENT:"ebDialogBox-secondaryText",EL_OPTIONAL_CONTENT:"ebDialogBox-thirdText",EL_ACTION_BLOCK:"ebDialogBox-actionBlock",EL_PRIMARY_BTN:"ebDialog-primaryActionButton",EL_SECONDARY_BTN:"ebDialog-secondaryActionButton",EL_THIRD_BTN:"ebDialog-thirdActionButton",EL_TOP_RIGHT_BTN:"ebDialog-topRightButton"});return i}),define("widgets/Dialog/Dialog",["jscore/core","widgets/WidgetCore","./DialogView","widgets/Button"],function(t,n,i,e){"use strict";function o(){this._windowEvtId||(this._windowEvtId=t.Window.addEventHandler("hashchange",this.hide.bind(this)))}function s(){this._windowEvtId&&(t.Window.removeEventHandler(this._windowEvtId),this._windowEvtId=void 0)}return n.extend({view:function(){return new i(this.options)},onViewReady:function(){this.options.fullContent!==!0&&(this.setHeader(this.options.header||"Header"),this.setOptionalContent(this.options.optionalContent)),this.setContent(this.options.content||"Content"),this.options.buttons?(this.view.getPrimaryButton().remove(),this.view.getSecondaryButton().remove(),this.view.getThirdButton().remove(),this.setButtons(this.options.buttons||[{name:"Close",action:function(){this.hide()}.bind(this)}])):(this.setPrimaryButtonCaption(this.options.primaryButtonCaption||"Save"),this.setSecondaryButtonCaption(this.options.secondaryButtonCaption||"Cancel"),this.setThirdButtonCaption(this.options.thirdButtonCaption||"Other")),this.setDialogType(this.options.type||"default"),this.options.showPrimaryButton===!1&&this.hidePrimaryButton(),(void 0===this.options.showThirdButton||this.options.showThirdButton===!1)&&this.hideThirdButton(),this.visible=!1,this.options.visible===!0&&this.show(),this.options.topRightCloseBtn===!0&&this.view.getTopRightCloseBtn().addEventHandler("click",function(){this.hide()},this),o.call(this)},onDestroy:function(){s.call(this)},setHeader:function(t){this.view.getHeader().setText(t)},setContent:function(n){if(!("string"==typeof n||n instanceof t.Widget||n instanceof t.Element))throw new Error("Content for Dialog should be Widget or String!");var i=this.options.fullContent!==!0?this.view.getContent():this.view.getContentBlock(),e=i.children();if(e.length>0&&e.forEach(function(t){t.detach()}),i.setText(""),"string"==typeof n||n instanceof t.Element){var o=n;"string"==typeof n&&(o=t.Element.parse("<p></p>"),o.setText(n)),i.append(o)}else n.attachTo(i)},setOptionalContent:function(n){if(void 0===n)return void this.view.getOptionalContent().detach();if(!("string"==typeof n||n instanceof t.Widget))throw new Error("Content for Dialog should be Widget or String!");var i=this.view.getOptionalContent().children();if(i.length>0&&i.forEach(function(t){t.detach()}),this.view.getOptionalContent().setText(""),"string"==typeof n){var e=t.Element.parse("<p></p>");e.setText(n),this.view.getOptionalContent().append(e)}else n.attachTo(this.view.getOptionalContent())},setButtons:function(t){var n=this.view.getActionBlock();n.children().forEach(function(t){t.detach()}),this.buttons&&this.buttons.forEach(function(t){t.destroy()});var i=t[0];i.color||(i.color="darkBlue"),this.buttons=[],t.forEach(function(t){var n=new e({caption:t.caption,modifiers:[]});t.color&&n.setModifier("color",t.color),n.addEventHandler("click",t.action),n.attachTo(this.view.getActionBlock()),this.buttons.push(n)}.bind(this))},getButtons:function(){return this.buttons},setDialogType:function(t){var n=["warning","error","confirmation","information"];-1!==n.indexOf(t)?this.view.getContentBlock().setModifier("type",t):this.view.getContentBlock().removeModifier("type")},show:function(){this.visible=!0,o.call(this);var n=t.Element.wrap(document.body);n.append(this.getElement())},hide:function(){this.isVisible()&&(this.visible=!1,this.getElement().detach(),s.call(this))},isVisible:function(){return this.visible},setPrimaryButtonCaption:function(t){this.getPrimaryButton().setText(t)},setSecondaryButtonCaption:function(t){this.getSecondaryButton().setText(t)},setThirdButtonCaption:function(t){this.getThirdButton().setText(t)},hidePrimaryButton:function(){this.getPrimaryButton().detach()},hideSecondaryButton:function(){this.getSecondaryButton().detach()},hideThirdButton:function(){this.getThirdButton().detach()},showPrimaryButton:function(){this.getPrimaryButton().detach(),this.getSecondaryButton().detach(),this.getThirdButton().detach(),this.view.getActionBlock().append(this.getPrimaryButton()),this.view.getActionBlock().append(this.getSecondaryButton()),this.view.getActionBlock().append(this.getThirdButton())},getPrimaryButton:function(){return this.view.getPrimaryButton()},getSecondaryButton:function(){return this.view.getSecondaryButton()},getThirdButton:function(){return this.view.getThirdButton()}})}),define("widgets/Dialog",["widgets/Dialog/Dialog"],function(t){return t});