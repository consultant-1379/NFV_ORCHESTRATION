/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("text!widgets/Tabs/TabItem/_tabItem.html",[],function(){return'<div class="ebTabs-tabItem"></div>'}),define("widgets/Tabs/TabItem/TabItemView",["jscore/core","text!./_tabItem.html"],function(t,e){"use strict";return t.View.extend({getTemplate:function(){return e},setCaption:function(t){this.getElement().setText(t)},setSelected:function(t){t?this.getElement().setModifier("selected","true"):this.getElement().removeModifier("selected")}})}),define("widgets/Tabs/TabItem/TabItem",["jscore/core","./TabItemView"],function(t,e){"use strict";return t.Widget.extend({View:e,onViewReady:function(){this.view.setCaption(this.options.caption)},getContent:function(){return this.options.content},setSelected:function(t){this.view.setSelected(t)}})}),define("text!widgets/Tabs/_tabs.html",[],function(){return'<div class="ebTabs">\n    <div class="ebTabs-top">\n        <div class="ebTabs-leftBtn">\n            <div class="ebTabs-leftBtnIcon">\n                <i class="ebIcon ebIcon_small ebIcon_leftArrow_10px"></i>\n            </div>\n        </div>\n        <div class="ebTabs-tabArea"></div>\n        <div class="ebTabs-rightBtn">\n            <div class="ebTabs-rightBtnIcon">\n                <i class="ebIcon ebIcon_small ebIcon_rightArrow_10px"></i>\n            </div>\n        </div>\n    </div>\n    <div class="ebTabs-contentDiv"></div>\n</div>'}),define("widgets/Tabs/TabsView",["jscore/core","text!./_tabs.html"],function(t,e){"use strict";return t.View.extend({getTemplate:function(){return e},getLeftButton:function(){return this.getElement().find(".ebTabs-leftBtn")},getRightButton:function(){return this.getElement().find(".ebTabs-rightBtn")},setButtonsDisplayType:function(t){this.getLeftButton().setStyle("display",t),this.getRightButton().setStyle("display",t)},getTabArea:function(){return this.getElement().find(".ebTabs-tabArea")},getContent:function(){return this.getElement().find(".ebTabs-contentDiv")}})}),define("widgets/Tabs/Tabs",["jscore/core","./TabsView","./TabItem/TabItem"],function(t,e,i){"use strict";function n(e,n,s){"string"==typeof n&&(n=t.Element.parse(n));var o=new i({caption:e,content:n});o.getElement().addEventHandler("click",function(){this.setSelectedTab(o),this.trigger("tabselect",e,s)}.bind(this)),o.attachTo(this.view.getTabArea()),this.tabs.push(o)}function s(t){this.buttonInterval&&o.call(this),this.buttonInterval=setInterval(function(){a.call(this,t)}.bind(this),1e3/60)}function o(){clearInterval(this.buttonInterval),delete this.buttonInterval}function a(t){var e=this.view.getTabArea().getProperty("scrollLeft");this.view.getTabArea().setProperty("scrollLeft",e+t),r.call(this)}function r(){var t=this.view.getTabArea().getProperty("scrollLeft"),e=this.view.getTabArea().getProperty("scrollWidth"),i=this.view.getTabArea().getProperty("clientWidth");0>=t?(this.view.getLeftButton().setModifier("enabled","false"),this.view.getRightButton().removeModifier("enabled")):t>=e-i?(this.view.getRightButton().setModifier("enabled","false"),this.view.getLeftButton().removeModifier("enabled")):(this.view.getLeftButton().removeModifier("enabled"),this.view.getRightButton().removeModifier("enabled"))}function h(){var t=this.getElement().getProperty("offsetWidth"),e=this.view.getTabArea().children();e.length>0&&(e[0].removeModifier("responsive"),e[Math.max(0,e.length-2)].removeModifier("responsive"),e[Math.max(0,e.length-1)].removeModifier("responsive"));for(var i=0,n=0;n<this.tabs.length;n++)i+=this.tabs[n].getElement().getProperty("offsetWidth");i>t?(this.view.setButtonsDisplayType("block"),this.view.getTabArea().setModifier("responsive"),e.length>0&&(e[0].setModifier("responsive"),e[e.length-1].setModifier("responsive"))):(this.view.setButtonsDisplayType("none"),this.view.getTabArea().removeModifier("responsive")),r.call(this)}return t.Widget.extend({View:e,onViewReady:function(){this.view.setButtonsDisplayType("none"),this.options.tabs=this.options.tabs||[],this.tabs=[];for(var e=0;e<this.options.tabs.length;e++)n.call(this,this.options.tabs[e].title,this.options.tabs[e].content,e);this._windowEvtId=t.Window.addEventHandler("resize",h.bind(this));var i="ontouchstart"in window?"touchstart":"mousedown",a="ontouchstart"in window?"touchend":"mouseup";this.view.getRightButton().addEventHandler(i,function(){s.call(this,5)}.bind(this)),this.view.getRightButton().addEventHandler(a,o.bind(this)),this.view.getLeftButton().addEventHandler(i,function(){s.call(this,-5)}.bind(this)),this.view.getLeftButton().addEventHandler(a,o.bind(this))},onDestroy:function(){this._windowEvtId&&t.Window.removeEventHandler(this._windowEvtId)},onDOMAttach:function(){h.call(this),void 0===this._previousTab&&this.tabs.length>0&&this.setSelectedTab(0)},addTab:function(t,e){n.call(this,t,e,this.tabs.length),h.call(this)},clearTabs:function(){for(var t=0;t<this.tabs.length;t++)this.tabs[t].destroy();this.tabs=[],this._previousContent&&this._previousContent.detach(),h.call(this)},disable:function(){},enable:function(){},removeLastTab:function(){this.removeTab(this.tabs.length-1)},removeTab:function(t){var e=this.tabs[t];e===this._previousTab&&(this._previousContent.detach(),this.tabs.length>1&&this.setSelectedTab(t-1)),e.destroy(),this.tabs.splice(t,1),h.call(this)},setSelectedTab:function(e){var n=e instanceof i?e:this.tabs[e];this._previousTab&&(this._previousContent.detach(),this._previousTab.setSelected(!1)),n.getContent()instanceof t.Element?this.view.getContent().append(n.getContent()):n.getContent().attachTo(this.view.getContent()),n.setSelected(!0),this._previousTab=n,this._previousContent=n.getContent()}})}),define("widgets/Tabs",["widgets/Tabs/Tabs"],function(t){return t});