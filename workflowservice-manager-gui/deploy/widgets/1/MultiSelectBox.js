/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("template!widgets/MultiSelectBox/MultiList/_multiList.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,s){function l(){return'\n    <div class="elWidgets-MultiSelectBox-selectDeselectAllWrap">\n        <div class="ebMultiSelectBox-selectDeselectAll">\n    	   <span class=\'elWidgets-MultiSelectBox-selectAll ebMultiSelectBox-spanLink\'>Select All</span><span class=\'elWidgets-MultiSelectBox-deselectAll ebMultiSelectBox-spanLink\'>Deselect All</span>\n        </div>\n	    <div class="ebComponentList-separator"></div>\n	</div>\n    '}function o(e,t){var n,s,l="";return l+="\n        ",d=i.name,n=d||e.name,s=i["if"],m=g.program(4,c,t),m.hash={},m.fn=m,m.inverse=g.noop,n=s.call(e,n,m),(n||0===n)&&(l+=n),l+="\n        ",d=i.type,n=d||e.type,s=i["if"],m=g.program(7,r,t),m.hash={},m.fn=m,m.inverse=g.noop,n=s.call(e,n,m),(n||0===n)&&(l+=n),l+="\n        "}function c(e,t){var n,s,l="";return l+='\n        <div class="ebComponentList-item">\n            <label>\n                <input class="ebCheckbox" type="checkbox" value="',d=i.value,n=d||e.value,typeof n===f?n=n.call(e,{hash:{}}):n===L&&(n=v.call(e,"value",{hash:{}})),l+=b(n)+'"',d=i.checked,n=d||e.checked,s=i["if"],m=g.program(5,a,t),m.hash={},m.fn=m,m.inverse=g.noop,n=s.call(e,n,m),(n||0===n)&&(l+=n),l+='>\n                <span class="ebCheckbox-inputStatus"></span>\n                <span class="ebCheckbox-label">',d=i.name,n=d||e.name,typeof n===f?n=n.call(e,{hash:{}}):n===L&&(n=v.call(e,"name",{hash:{}})),l+=b(n)+"</span>\n            </label>\n        </div>\n        "}function a(){return" checked"}function r(){return'\n        <div class="ebComponentList-separator"></div>\n        '}i=i||e.helpers;var h,u,d,m,p="",g=this,f="function",v=i.helperMissing,L=void 0,b=this.escapeExpression;return p+='<div class="ebComponentList ebComponentList_focus_forced eb_scrollbar">\n    ',d=i.selectDeselectAll,h=d||t.selectDeselectAll,u=i["if"],m=g.program(1,l,s),m.hash={},m.fn=m,m.inverse=g.noop,h=u.call(t,h,m),(h||0===h)&&(p+=h),p+='\n\n    <div class="ebMultiSelectBox">\n        ',d=i.items,h=d||t.items,u=i.each,m=g.program(3,o,s),m.hash={},m.fn=m,m.inverse=g.noop,h=u.call(t,h,m),(h||0===h)&&(p+=h),p+="\n	</div>\n\n</div>"})}),define("widgets/MultiSelectBox/MultiList/MultiListView",["jscore/core","template!./_multiList.html","widgets/utils/domUtils"],function(e,t,i){"use strict";var n=e.View.extend({getTemplate:function(){return t(this.options.template)},getSelectableItems:function(){return i.findAll(".ebComponentList-item",this.getElement())},getItems:function(){return this.getElement().find(".ebMultiSelectBox").children()},getSelectAllLink:function(){return i.findAll(".elWidgets-MultiSelectBox-selectAll",this.getElement())[0]},getDeSelectAllLink:function(){return i.findAll(".elWidgets-MultiSelectBox-deselectAll",this.getElement())[0]},getSelectDeSelectDiv:function(){return i.findAll(".elWidgets-MultiSelectBox-selectDeselectAllWrap",this.getElement())[0]}},{EL_ITEM:"ebComponentList-item",EL_CHECKBOX:"ebCheckbox",EL_LABEL:"ebCheckbox-label"});return n}),define("widgets/MultiSelectBox/MultiList/MultiList",["widgets/ComponentList","./MultiListView"],function(e,t){"use strict";return e.extend({view:function(){return new t({template:{items:this.options.items,selectDeselectAll:this.options.selectDeselectAll}})},onViewReady:function(){this.flatItems.forEach(function(e){e.type&&"separator"===e.type||this.focusableItems.push(e)}.bind(this)),this.view.getSelectableItems().forEach(function(e,i){e.addEventHandler("mousemove",function(e){(e.originalEvent.pageX!==this.mousePageX||e.originalEvent.pageY!==this.mousePageY)&&(this.mousePageX=e.originalEvent.pageX,this.mousePageY=e.originalEvent.pageY,this.resetCurrentItemFocus(),this.setFocusedItem(i))}.bind(this));var n=e.find("."+t.EL_CHECKBOX);n&&n.addEventHandler("change",function(){this.onListItemClicked(i,n)}.bind(this)),e.addEventHandler("click",function(e){e&&e.stopPropagation&&e.stopPropagation()}.bind(this))}.bind(this)),this.options.selectDeselectAll===!0&&(this.view.getSelectAllLink().addEventHandler("click",function(e){e.originalEvent.stopPropagation(),this.view.getItems().forEach(function(e,i){var n=e.find("."+t.EL_CHECKBOX);n&&!n.getProperty("checked")&&(n.setProperty("checked",!0),this.onListItemClicked(i,n,!0))},this),this.trigger("itemAllChanged")},this),this.view.getDeSelectAllLink().addEventHandler("click",function(e){e.originalEvent.stopPropagation(),this.view.getItems().forEach(function(e,i){var n=e.find("."+t.EL_CHECKBOX);n&&n.getProperty("checked")&&(n.setProperty("checked",!1),this.onListItemClicked(i,n,!0))},this),this.trigger("itemAllChanged")},this))},getSelectedItems:function(){var e=[];return this.options.items.forEach(function(t){t.checked===!0&&e.push(t)}),e},onListItemClicked:function(e,t,i){this._selectedItem=this.options.items[e],this.selectListItem(e,t,i)},selectListItem:function(e,i,n){var s;if(0!==arguments.length)s=i.getProperty("checked");else{var l=this._currentFocusedItem.find("."+t.EL_CHECKBOX);if(void 0===l)return;s=!l.getProperty("checked"),l.setProperty("checked",s),this._selectedItem=this.focusableItems[this._currentFocusedItem._indexInList]}this._selectedItem.checked=s,n!==!0&&this.trigger("itemChanged")}})}),define("widgets/MultiSelectBox/MultiSelectBox",["widgets/SelectBox","./MultiList/MultiList"],function(e,t){"use strict";function i(){this.keyBoardControl.tab=s.bind(this),this.keyBoardControl.space=n.bind(this),this.keyBoardControl.enter=l.bind(this)}function n(e){this.isKeyboardControlled()&&(this.componentList.isVisible()?this.componentList.selectListItem():this.showList()),e.preventDefault()}function s(){this.hideList()}function l(e){this.toggle(),e.preventDefault()}function o(){var e=this.componentList?this.componentList.getSelectedItems().length:0;this.view.getValueEl().setText(this.items&&this._selectableItemsCount===e&&0!==e?"All Selected":e+" Selected")}return e.extend({onControlReady:function(){i.call(this),this.onItemSelected.call(this)},setValue:function(){},getValue:function(){return this.getSelectedItems()},getComponentListClass:function(){return t},onItemsSet:function(){if(this.componentList&&(this.componentList.addEventHandler("itemChanged",this.onItemSelected.bind(this)),this.componentList.addEventHandler("itemAllChanged",this.onItemSelected.bind(this))),this._selectableItemsCount=0,this.items)for(var e=0;e<this.items.length;e++)"separator"!==this.items[e].type&&this._selectableItemsCount++;o.call(this)},getSelectedItems:function(){return this.componentList?this.componentList.getSelectedItems():[]},onItemSelected:function(){o.call(this),this.trigger("change"),this.getFocusableElement().focus()}})}),define("widgets/MultiSelectBox",["widgets/MultiSelectBox/MultiSelectBox"],function(e){return e});