/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("styles!widgets/PopupDatePicker/Popup/_popup.less",[],function(){return".elWidgets-PopupDatePicker-popup {\n  position: fixed;\n  border: 1px solid #b3b3b3;\n  border-radius: 3px;\n  padding: 5px 5px 0 5px;\n  width: 211px;\n  margin: 0;\n  z-index: 99999;\n  background-color: #FFFFFF;\n}\n.elWidgets-PopupDatePicker-closeButton {\n  width: 100%;\n  height: 15px;\n}\n.elWidgets-PopupDatePicker-closeButtonIcon {\n  float: right;\n}\n.elWidgets-PopupDatePicker-actionBlock {\n  padding: 6px 0;\n  text-align: center;\n}\n.elWidgets-PopupDatePicker-actionBlockButton {\n  margin: 0 4px;\n}\n"}),define("template!widgets/PopupDatePicker/Popup/_popup.html",["jscore/handlebars/handlebars"],function(t){return t.template(function(t,e,i,n,o){function s(t){var e,n="";return n+='\n    <div class="elWidgets-PopupDatePicker-actionBlock">\n        <button class="ebBtn elWidgets-PopupDatePicker-actionBlockButton elWidgets-PopupDatePicker-okButton">',a=i.applyButtonLabel,e=a||t.applyButtonLabel,typeof e===h?e=e.call(t,{hash:{}}):e===g&&(e=d.call(t,"applyButtonLabel",{hash:{}})),n+=P(e)+"</button>\n    </div>\n    "}i=i||t.helpers;var p,u,a,l,c="",r=this,h="function",d=i.helperMissing,g=void 0,P=this.escapeExpression;return c+='<div class="elWidgets-PopupDatePicker-popup">\n    <div class="elWidgets-PopupDatePicker-closeButton">\n        <i class="ebIcon ebIcon_close ebIcon_interactive elWidgets-PopupDatePicker-closeButtonIcon"></i>\n    </div>\n    <div class="elWidgets-PopupDatePicker-datePicker"></div>\n    ',a=i.showButtons,p=a||e.showButtons,u=i["if"],l=r.program(1,s,o),l.hash={},l.fn=l,l.inverse=r.noop,p=u.call(e,p,l),(p||0===p)&&(c+=p),c+="\n</div>"})}),define("widgets/PopupDatePicker/Popup/PopupView",["jscore/core","template!./_popup.html","styles!./_popup.less"],function(t,e,i){return t.View.extend({getTemplate:function(){return e(this.options)},getStyle:function(){return i},getDatePicker:function(){return this.getElement().find(".elWidgets-PopupDatePicker-datePicker")},getCloseButton:function(){return this.getElement().find(".elWidgets-PopupDatePicker-closeButton")},getOkButton:function(){return this.getElement().find(".elWidgets-PopupDatePicker-okButton")}})}),define("widgets/PopupDatePicker/Popup/Popup",["jscore/core","./PopupView"],function(t,e){return t.Widget.extend({view:function(){return new e(this.options)}})}),define("styles!widgets/PopupDatePicker/_popupDatePicker.less",[],function(){return".elWidgets-PopupDatePicker {\n  position: relative;\n  width: 160px;\n  outline: none;\n  height: 24px;\n}\n.elWidgets-PopupDatePicker-input {\n  position: relative;\n  margin: 0;\n}\n.elWidgets-PopupDatePicker-cancelButton {\n  position: absolute;\n  top: 5px;\n  right: 25px;\n  display: none;\n}\n"}),define("text!widgets/PopupDatePicker/_popupDatePicker.html",[],function(){return'<div class="elWidgets-PopupDatePicker">\n    <div class="elWidgets-PopupDatePicker-input">\n		<input type="text" readonly="readonly" class="ebInput" />\n		<i class="ebIcon ebIcon_close elWidgets-PopupDatePicker-cancelButton ebIcon_interactive"></i>\n        <i class="ebIcon ebIcon_calendar ebIcon_interactive"></i>\n	</div>\n</div>'}),define("widgets/PopupDatePicker/PopupDatePickerView",["jscore/core","text!./_popupDatePicker.html","styles!./_popupDatePicker.less"],function(t,e,i){"use strict";return t.View.extend({afterRender:function(){var t=this.getElement();this.input=t.find(".ebInput"),this.calendarButton=t.find(".ebIcon_calendar"),this.cancelButton=t.find(".elWidgets-PopupDatePicker-cancelButton")},getTemplate:function(){return e},getStyle:function(){return i},getOuterEl:function(){return this.element},getInput:function(){return this.input},setValue:function(t){this.input.setValue(t)},getCancelButton:function(){return this.cancelButton},getCalendarButton:function(){return this.calendarButton}})}),define("widgets/PopupDatePicker/PopupDatePicker",["widgets/WidgetCore","./PopupDatePickerView","widgets/DatePicker","widgets/DateTimePicker","./Popup/Popup","jscore/core"],function(t,e,i,n,o,s){function p(t){function e(t){return 10>t?"0"+t:""+t}var i;return i=this.options.showTime?t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds()):t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()}function u(){this.popup.view.getOkButton().addEventHandler("click",function(){var t=this.getValue();t&&(this.setValue(p.call(this,t)),this.view.getCancelButton().setStyle("display","block"),this.setVisible(!1),this.trigger("dateselect"))},this)}function a(){this.datePicker.addEventHandler("dateselect",function(){var t=this.getValue();t&&(this.setValue(t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()),this.view.getCancelButton().setStyle("display","block"),this.setVisible(!1),this.trigger("dateselect"))},this)}function l(){this.popup.view.getCloseButton().addEventHandler("click",function(){this.setVisible(!1)},this)}function c(){this.view.getCancelButton().addEventHandler("click",function(){this.setValue(""),this.view.getCancelButton().setStyle("display","none"),this.trigger("dateclear")},this)}function r(){this.view.getCalendarButton().addEventHandler("click",function(){this.visible?(this.setVisible(!1),this.posInterval&&(clearInterval(this.posInterval),this.posInterval=void 0)):(this.setVisible(!0),h.call(this))},this),this.popup.getElement().addEventHandler("mouseover",function(){this.popupHasMouse=!0},this),this.popup.getElement().addEventHandler("mouseout",function(){this.popupHasMouse=!1},this)}function h(){var t=this.view.getInput().getPosition();this._inputHeight||(this._inputHeight=this.view.getInput().getProperty("offsetHeight")+3),this.popup.getElement().setStyle({top:t.top+this._inputHeight+"px",left:t.left+"px"}),this.posInterval||(this.position=t,this.posInterval=setInterval(function(){var t=this.view.getInput().getPosition();0===t.top&&0===t.right&&0===t.bottom&&0===t.left?this.setVisible(!1):(this.position.top!==t.top||this.position.left!==t.left)&&(this.popup.getElement().setStyle({top:t.top+this._inputHeight+"px",left:t.left+"px"}),this.position=t)}.bind(this),1e3/24))}return t.extend({View:e,init:function(t){this.options=t||{},this.popupHasMouse=!1,this.applyButtonLabelDefault="OK"},onViewReady:function(){this.view.afterRender(),this.popup=new o({showButtons:this.options.showTime,applyButtonLabel:this.options.applyButtonLabel||this.applyButtonLabelDefault}),this.datePicker=this.options.showTime?new n(this.options):new i(this.options),this.datePicker.attachTo(this.popup.view.getDatePicker()),this.setVisible(!1),r.call(this),l.call(this),c.call(this),this.options.showTime?u.call(this):a.call(this)},setVisible:function(t){t?this.popup.attachTo(s.Element.wrap(document.body)):this.popup.detach(),this.visible=t},getValue:function(){return this.datePicker.getValue()},getInput:function(){return this.view.getInput().getValue()},setValue:function(t){var e=new Date(t);this.view.setValue(isNaN(e.getMonth()&&!isNaN(e.getDate())+!isNaN(e.getFullYear()))?"":p.call(this,e)),this.datePicker.setValue(e),this.view.getCancelButton().setStyle("display","block")},onDestroy:function(){this.popup.destroy()}})}),define("widgets/PopupDatePicker",["widgets/PopupDatePicker/PopupDatePicker"],function(t){return t});