/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("text!widgets/Accordion/_accordion.html",[],function(){return'<div class="ebAccordion">\n    <div class="ebAccordion-header">\n        <div class="ebAccordion-button" title="Expand">\n            <i class="ebIcon ebIcon_small"></i>\n        </div>\n        <div class="ebAccordion-title"></div>\n    </div>\n\n    <div class="ebAccordion-body">&nbsp;</div>\n</div>'}),define("widgets/Accordion/AccordionView",["jscore/core","widgets/utils/domUtils","text!./_accordion.html"],function(t,e,i){"use strict";function n(){this.recalculateHeight(),this.getContent().setStyle("max-height",this.contentHeight+"px"),this.bodyMaxHeightOpenTimeout=setTimeout(function(){this.getContent().setStyle("max-height","inherit"),this.bodyMaxHeightOpenTimeout=void 0}.bind(this),500),this.bodyMaxHeightCloseTimeout&&(clearTimeout(this.bodyMaxHeightCloseTimeout),this.bodyMaxHeightCloseTimeout=void 0)}function o(){var e=this.getContentItem();!this.contentAppended&&e&&(this.getContent().setText(""),e instanceof t.Element?this.getContent().append(e):e.attachTo(this.getContent()),this.contentAppended=!0)}var s=t.View.extend({afterRender:function(){this.title=this.getElement().find("."+s.EL_TITLE),this.button=this.getElement().find("."+s.EL_BUTTON),this.content=this.getElement().find("."+s.EL_BODY),this.header=this.getElement().find("."+s.EL_HEADER),this._icon=this.getElement().find("."+s.EL_ICON),this._icon.setModifier("downArrow","10px"),this.contentHeight=0,this.contentAppended=!1,this.contentItem=void 0},getTemplate:function(){return i},getTitle:function(){return this.title},getButton:function(){return this.button},getContent:function(){return this.content},getHeader:function(){return this.header},setContentItem:function(t){this.contentItem=t},getContentItem:function(){return this.contentItem},foldBody:function(){this._icon.removeModifier("upArrow"),this._icon.setModifier("downArrow","10px"),this.button.setAttribute("title","Expand"),this.recalculateHeight(),this.getContent().setStyle("max-height",this.contentHeight+"px"),this.bodyMaxHeightCloseTimeout=setTimeout(function(){this.getContent().setStyle("max-height","0"),this.bodyMaxHeightCloseTimeout=void 0}.bind(this),50),this.bodyMaxHeightOpenTimeout&&(clearTimeout(this.bodyMaxHeightOpenTimeout),this.bodyMaxHeightOpenTimeout=void 0)},replaceContent:function(){o.call(this),n.call(this)},expandBody:function(){this.replaceContent(),this._icon.removeModifier("downArrow"),this._icon.setModifier("upArrow","10px"),this.button.setAttribute("title","Collapse")},recalculateHeight:function(){this.contentHeight=e.getOuterHeight(this.getContent().children()[0])}},{EL_HEADER:"ebAccordion-header",EL_TITLE:"ebAccordion-title",EL_BUTTON:"ebAccordion-button",EL_ICON:"ebIcon",EL_BODY:"ebAccordion-body"});return s}),define("widgets/Accordion/Accordion",["jscore/core","widgets/WidgetCore","widgets/utils/domUtils","./AccordionView"],function(t,e,i,n){"use strict";function o(){this.enabled&&(this._expanded?this.trigger("collapse"):(this.trigger("beforeExpand"),this.trigger("expand")))}function s(){this.enabled&&(this.view.expandBody(),this._expanded=!0)}function d(){this.view.foldBody(),this._expanded=!1}return e.extend({View:n,init:function(){this._expanded=!1,this._empty=!0},onViewReady:function(){this.setTitle(this.options.title||"Accordion Header"),this.setContent(this.options.content),this.options.enabled===!1&&this.disable(),this.addEventHandler("click",o.bind(this)),void 0!==this.options.beforeExpand&&this.addEventHandler("beforeExpand",this.options.beforeExpand),this.addEventHandler("expand",s.bind(this)),this.addEventHandler("collapse",d.bind(this)),this.options.expanded===!0&&this.trigger("expand")},setTitle:function(e){if(this._headerClickEventId&&(this.view.getHeader().removeEventHandler(this._headerClickEventId),this._headerClickEventId=void 0),this._buttonClickEventId&&(this.view.getButton().removeEventHandler(this._buttonClickEventId),this._buttonClickEventId=void 0),this.view.getHeader().removeModifier("noAction"),"string"==typeof e||e instanceof String)this.view.getTitle().setText(e),this._headerClickEventId=this.view.getHeader().addEventHandler("click",function(){this.trigger("click")},this);else{if(!(e instanceof t.Widget))throw new Error("Title for Accordion should be core.Widget or String!");this.view.getHeader().setModifier("noAction"),e.attachTo(this.view.getTitle()),this._buttonClickEventId=this.view.getButton().addEventHandler("click",function(){this.trigger("click")},this)}},isEmpty:function(){return this._empty},setContent:function(e){var i=this.view.getContent();if(i.children().forEach(function(t){t.detach()}),!(void 0===e||e instanceof t.Widget||"string"==typeof e||e instanceof String))throw new Error("Content for Accordion should be core.Widget or String!");if(e&&("string"==typeof e||e instanceof String)){var n=new t.Element;n.setText(e),e=n}this.view.setContentItem(e),this.view.contentAppended=!1,this._expanded&&this.view.replaceContent(),e||this.disable(),(this.options.enabled===!0||e)&&this.enable(),void 0!==e&&(this._empty=!1)},enable:function(){this.enabled=!0,this.getElement().removeModifier("disabled"),this.view.getButton().setAttribute("title","Expand")},disable:function(){this.enabled=!1,this.getElement().setModifier("disabled"),this.view.foldBody(),this.view.getButton().setAttribute("title","Disabled")}})}),define("widgets/Accordion",["widgets/Accordion/Accordion"],function(t){return t});