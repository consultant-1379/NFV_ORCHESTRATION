/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("template!widgets/DatePicker/daysrows/_daysRows.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,a){function s(e,t){var n,a,s="";return s+="<tr>\n            ",h=i.days,n=h||e.days,a=i.each,d=u.program(2,r,t),d.hash={},d.fn=d,d.inverse=u.noop,n=a.call(e,n,d),(n||0===n)&&(s+=n),s+="\n        </tr>"}function r(e){var t,n="";return n+='<td><span class="',h=i.classes,t=h||e.classes,typeof t===v?t=t.call(e,{hash:{}}):t===g&&(t=_.call(e,"classes",{hash:{}})),n+=b(t)+'">',h=i.day,t=h||e.day,typeof t===v?t=t.call(e,{hash:{}}):t===g&&(t=_.call(e,"day",{hash:{}})),n+=b(t)+"</span></td>"}i=i||e.helpers;var o,l,h,d,c="",u=this,v="function",_=i.helperMissing,g=void 0,b=this.escapeExpression;return c+='<table class="ebDatePicker-body">\n    <thead>\n    <tr>\n        <th>Mo</th>\n        <th>Tu</th>\n        <th>We</th>\n        <th>Th</th>\n        <th>Fr</th>\n        <th>Sa</th>\n        <th>Su</th>\n    </tr>\n    </thead>\n    <tbody>\n        ',h=i.weeks,o=h||t.weeks,l=i.each,d=u.program(1,s,a),d.hash={},d.fn=d,d.inverse=u.noop,o=l.call(t,o,d),(o||0===o)&&(c+=o),c+="\n    </tbody>\n</table>"})}),define("widgets/DatePicker/daysrows/DaysRowsView",["jscore/core","template!./_daysRows.html"],function(e,t){"use strict";return e.View.extend({getTemplate:function(){return t(this.options.template.rows)}})}),define("widgets/DatePicker/daysrows/DaysRows",["widgets/WidgetCore","./DaysRowsView","widgets/utils/datePickerUtils"],function(e,t,i){"use strict";function n(e,t,n){var s=[];a.call(this,e,t,n)&&(s.push(" "),s.push(this.dayClass),s.push("_disabled"));var r=this.options.selected||null;return null!==r&&r.getFullYear()===e&&r.getMonth()===t&&r.getDate()===n&&(s.push(" "),s.push(this.dayClass),s.push("_selected")),i.isToday(e,t,n)&&(s.push(" "),s.push(this.dayClass),s.push("_today")),s.join("")}function a(e,t,i){var n=!1,a=this.options.disableDay;a&&a(e,t,i)&&(n=n||!0);var s=this.options.dateInRange;return s&&(s(e,t,i)||(n=n||!0)),n}return e.extend({view:function(){return new t({template:{rows:this.options.rows}})},init:function(e){e=e||{};var t=e.days;if(void 0===t)throw new Error('Option "days" should be defined for DaysRows widget!');if(!(t instanceof Array))throw new Error('Option "days" should be an array');this.dayClass="ebDatePicker-day",e.rows={weeks:[]};for(var i,a,s,r=0;42>r;r++)i=t[r],a={},s||(s={days:[]}),void 0!==i?(a.day=i,a.classes=this.dayClass+n.call(this,e._visibleYear,e._visibleMonth,i)):(a.day="",a.classes=this.dayClass+" "+this.dayClass+"_other"),s.days.push(a),(r+1)%7===0&&(e.rows.weeks.push(s),s=void 0);this.options=e}})}),define("text!widgets/DatePicker/_datePicker.html",[],function(){return'<div data-namespace="ebDatePicker">\n    <div data-name="head">\n        <div data-name="prev">\n            <div data-name="prevYear">\n                <i class="ebIcon ebIcon_small ebIcon_prevArrow_10px ebIcon_interactive eb_noVertAlign"></i>\n            </div>\n            <div data-name="prevMonth">\n                <i class="ebIcon ebIcon_small ebIcon_leftArrow_10px ebIcon_interactive eb_noVertAlign"></i>\n            </div>\n        </div>\n        <div data-name="monthYear"></div>\n        <div data-name="next">\n            <div data-name="nextYear">\n                <i class="ebIcon ebIcon_small ebIcon_nextArrow_10px ebIcon_interactive eb_noVertAlign"></i>\n            </div>\n            <div data-name="nextMonth">\n                <i class="ebIcon ebIcon_small ebIcon_rightArrow_10px ebIcon_interactive eb_noVertAlign"></i>\n            </div>\n        </div>\n    </div>\n    <div data-name="tableHolder"></div>\n</div>'}),define("widgets/DatePicker/DatePickerView",["jscore/core","text!./_datePicker.html","widgets/utils/dataNameUtils"],function(e,t,i){"use strict";var n=e.View.extend({getTemplate:function(){return i.translate(null,t,this)},getRoot:function(){return this.getElement()},getTable:function(){return this[n.EL_TABLE]},getDays:function(){return this[n.EL_DAYS]},getPrevYearButton:function(){return this[n.EL_PREV_YEAR]},getPrevMonthButton:function(){return this[n.EL_PREV_MONTH]},getMonthYearTitle:function(){return this[n.EL_MONTH_YEAR]},getNextMonthButton:function(){return this[n.EL_NEXT_MONTH]},getNextYearButton:function(){return this[n.EL_NEXT_YEAR]}},{EL_PREV_YEAR:"prevYear",EL_PREV_MONTH:"prevMonth",EL_MONTH_YEAR:"monthYear",EL_NEXT_MONTH:"nextMonth",EL_NEXT_YEAR:"nextYear",EL_TABLE:"tableHolder",EL_DAYS:"days"});return n}),define("widgets/DatePicker/DatePicker",["widgets/WidgetCore","./DatePickerView","./daysrows/DaysRows","widgets/utils/datePickerUtils","widgets/utils/parserUtils","widgets/utils/domUtils"],function(e,t,i,n,a,s){"use strict";function r(){var e;return this.options.defaultDate&&this.options.defaultDate instanceof Date?e=this.options.defaultDate:this.options.defaultDate instanceof Function?e=this.options.defaultDate():(e=new Date,e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),e}function o(e,t){this._visibleMonth=t,this._visibleYear=e;var i=n.getMonthYearRelative(e,t,-12),a=n.getMonthYearRelative(e,t,-1),s=n.getMonthYearRelative(e,t,1),r=n.getMonthYearRelative(e,t,12),o=_.call(this,i.year);l(this.view.getPrevYearButton(),o);var d=g.call(this,a.year,a.month);l(this.view.getPrevMonthButton(),d);var c=g.call(this,s.year,s.month);l(this.view.getNextMonthButton(),c);var u=_.call(this,r.year);l(this.view.getNextYearButton(),u),h.call(this)}function l(e,t){e.setAttribute("disabled",t),t?e.find(".ebIcon").setModifier("disabled"):e.find(".ebIcon").removeModifier("disabled")}function h(){var e=n.getDays(this._visibleYear,this._visibleMonth),t=this.view.getTable().children();t.length>0&&t.forEach(function(e){e.detach()});var a=new i({days:e,_visibleYear:this._visibleYear,_visibleMonth:this._visibleMonth,dateInRange:this.options.dateInRange,disableDay:this.options.disableDay,selected:this.getValue()});this.view.getTable().append(a.getElement());var s=n.getMonthName(this._visibleMonth)+" "+this._visibleYear;this.view.getMonthYearTitle().setText(s)}function d(){var e=n.getMonthYearRelative(this._visibleYear,this._visibleMonth,-12);_.call(this,e.year)||o.call(this,e.year,e.month)}function c(){var e=n.getMonthYearRelative(this._visibleYear,this._visibleMonth,-1);g.call(this,e.year,e.month)||o.call(this,e.year,e.month)}function u(){var e=n.getMonthYearRelative(this._visibleYear,this._visibleMonth,1);g.call(this,e.year,e.month)||o.call(this,e.year,e.month)}function v(){var e=n.getMonthYearRelative(this._visibleYear,this._visibleMonth,12);_.call(this,e.year)||o.call(this,e.year,e.month)}function _(e){var t=this.options.dateInRange;return!t||t(e,this._visibleMonth,n.getDaysInMonth(e,this._visibleMonth))||t(e,this._visibleMonth,1)?!1:!0}function g(e,t){var i=this.options.dateInRange;return!i||i(e,t,n.getDaysInMonth(e,t))||i(e,t,1)?!1:!0}return e.extend({View:t,onViewReady:function(){this._selectedDate=null;var e=this.view;e.getPrevYearButton().addEventHandler("click",d,this),e.getPrevMonthButton().addEventHandler("click",c,this),e.getNextMonthButton().addEventHandler("click",u,this),e.getNextYearButton().addEventHandler("click",v,this),s.delegate(e.getTable(),"span:not(.ebDatePicker-day_other):not(.ebDatePicker-day_disabled)","click",function(e){var t=a.parseInt(e.currentTarget.textContent);if(t&&!isNaN(t)){var i=n.cloneDate(this._selectedDate);this._selectedDate=new Date(this._visibleYear,this._visibleMonth,t,0,0,0,0),h.call(this),this.trigger("dateselect",this.getValue()),i&&i.getFullYear()===this._selectedDate.getFullYear()&&i.getDate()===this._selectedDate.getDate()&&i.getDay()===this._selectedDate.getDay()||this.trigger("change",this.getValue())}},this),this.setValue(this.options.value||null)},getValue:function(){return null!==this._selectedDate?n.cloneDate(this._selectedDate):this._selectedDate},setValue:function(e){e=n.cloneDate(e),e instanceof Date||(e=r.call(this)),e instanceof Date&&(this._selectedDate=e),this._visibleMonth=e.getMonth(),this._visibleYear=e.getFullYear(),this.redraw()},redraw:function(){if(this._visibleMonth||this._visibleYear)o.call(this,this._visibleYear,this._visibleMonth);else{var e=r.call(this);o.call(this,e.getFullYear(),e.getMonth())}}})}),define("widgets/DatePicker",["widgets/DatePicker/DatePicker"],function(e){return e});