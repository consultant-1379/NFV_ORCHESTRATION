/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("template!widgets/Breadcrumb/BreadcrumbItem/_breadcrumbItem.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,r,i,n){function s(e,t){var i,n,s="";return s+='\n        <span class="ebBreadcrumbs-arrow" tabindex="1">\n            <i class="ebIcon ebIcon_small ebIcon_interactive ebIcon_downArrow_10px"></i>\n        </span>\n    <div class="ebBreadcrumbs-list">\n        <ul class="ebComponentList">\n            ',o=r.children,i=o||e.children,n=r.each,l=m.program(2,a,t),l.hash={},l.fn=l,l.inverse=m.noop,i=n.call(e,i,l),(i||0===i)&&(s+=i),s+="\n        </ul>\n    </div>\n    "}function a(e,t){var i,n,s="";return s+='\n            <li class="ebComponentList-item',o=r.selected,i=o||e.selected,n=r["if"],l=m.program(3,c,t),l.hash={},l.fn=l,l.inverse=m.noop,i=n.call(e,i,l),(i||0===i)&&(s+=i),s+='">\n                <a href="',o=r.url,i=o||e.url,typeof i===b?i=i.call(e,{hash:{}}):i===g&&(i=f.call(e,"url",{hash:{}})),s+=w(i)+'" class="ebComponentList-link" title="',o=r.title,i=o||e.title,typeof i===b?i=i.call(e,{hash:{}}):i===g&&(i=f.call(e,"title",{hash:{}})),s+=w(i)+'">',o=r.name,i=o||e.name,typeof i===b?i=i.call(e,{hash:{}}):i===g&&(i=f.call(e,"name",{hash:{}})),s+=w(i)+"</a>\n            </li>\n            "}function c(){return" ebComponentList-item_selected"}r=r||e.helpers;var d,h,o,l,u="",m=this,b="function",f=r.helperMissing,g=void 0,w=this.escapeExpression;return u+='<div class="ebBreadcrumbs-item">\n    <a href="',o=r.url,d=o||t.url,typeof d===b?d=d.call(t,{hash:{}}):d===g&&(d=f.call(t,"url",{hash:{}})),u+=w(d)+'" class="ebBreadcrumbs-link" title="',o=r.title,d=o||t.title,typeof d===b?d=d.call(t,{hash:{}}):d===g&&(d=f.call(t,"title",{hash:{}})),u+=w(d)+'">',o=r.name,d=o||t.name,typeof d===b?d=d.call(t,{hash:{}}):d===g&&(d=f.call(t,"name",{hash:{}})),u+=w(d)+"</a>\n    ",o=r.children,d=o||t.children,h=r["if"],l=m.program(1,s,n),l.hash={},l.fn=l,l.inverse=m.noop,d=h.call(t,d,l),(d||0===d)&&(u+=d),u+="\n</div>"})}),define("widgets/Breadcrumb/BreadcrumbItem/BreadcrumbItemView",["jscore/core","template!./_breadcrumbItem.html"],function(e,t){"use strict";var r=e.View.extend({afterRender:function(){this.link=this.getElement().find("."+r.EL_LINK),this.arrow=this.getElement().find("."+r.EL_ARROW)},getTemplate:function(){return t(this.options.template.breadcrumb)},getLink:function(){return this.link},getArrow:function(){return this.arrow}},{EL_LINK:"ebBreadcrumbs-link",EL_ARROW:"ebBreadcrumbs-arrow"});return r}),define("widgets/Breadcrumb/BreadcrumbItem/BreadcrumbItem",["widgets/WidgetCore","./BreadcrumbItemView","widgets/utils/domUtils"],function(e,t){"use strict";return e.extend({init:function(e){this.options=e||[],this.view=new t({template:{breadcrumb:e.breadcrumb}})},onViewReady:function(){var e=this.view.getArrow();if(e){var t,r,i=!1,n=!1;this.getElement().addEventHandler("mouseover",function(){clearTimeout(r),n||(t=setTimeout(function(){n=!0,e.trigger("focus")},50))},this),this.getElement().addEventHandler("mouseout",function(){clearTimeout(t),!i&&n&&(r=setTimeout(function(){n=!1,e.trigger("blur")},2e3))},this),e.addEventHandler("click",function(){clearTimeout(r),i=!0,n||(n=!0,e.trigger("focus"))},this),e.addEventHandler("blur",function(){i=!1,n=!1})}}})}),define("text!widgets/Breadcrumb/_breadcrumb.html",[],function(){return'<div class="ebBreadcrumbs"></div>'}),define("widgets/Breadcrumb/BreadcrumbView",["jscore/core","text!./_breadcrumb.html"],function(e,t){"use strict";return e.View.extend({getTemplate:function(){return t}})}),define("widgets/Breadcrumb/Breadcrumb",["widgets/WidgetCore","./BreadcrumbView","./BreadcrumbItem/BreadcrumbItem","widgets/utils/domUtils","jscore/core"],function(e,t,r,i,n){"use strict";function s(){this.dots||(this.dots=new r({breadcrumb:{name:"...",url:"#"}}),this.dots.getElement().addEventHandler("click",function(){this.resize(!0)}.bind(this)),this.dots.attachTo(this.getElement()),this.dotsWidth=this.dots.getElement().getProperty("offsetWidth"))}return e.extend({View:t,init:function(){this.breadcrumbItems=[],this.dots=void 0},onViewReady:function(){var e=this.options.data||this.options.breadcrumbs;if(!(e&&e.length>0))throw new Error("A breadcrumb array should be defined for the Breadcrumb widget!");if(e.length>1){var t=e[e.length-1].url,i=e[e.length-2];i.children&&i.children.forEach(function(e){e.url===t&&(e.selected=!0)})}e.forEach(function(e){var t=new r({breadcrumb:e});this.breadcrumbItems.push(t),t.attachTo(this.getElement())},this),this._windowEvtId=n.Window.addEventHandler("resize",this.resize.bind(this))},onDestroy:function(){this._windowEvtId&&n.Window.removeEventHandler(this._windowEvtId)},onDOMAttach:function(){this.resize.call(this)},resize:function(e){this.breadcrumbWidths||(this.breadcrumbWidths=[],this.totalWidth=0,this.breadcrumbItems.forEach(function(e){var t=e.getElement().getProperty("offsetWidth");this.breadcrumbWidths.push(t),this.totalWidth+=t},this));var t=this.getElement().getProperty("offsetWidth");this.breadcrumbItems.forEach(function(e){e.detach()},this),s.call(this),this.dots.detach();var r;if(t<this.totalWidth&&!e){this.breadcrumbItems[0].attach();var i=this.breadcrumbWidths[0],n=0;for(r=this.breadcrumbWidths.length-1;r>0;r--)if(i+=this.breadcrumbWidths[r],i>t){n=r;break}for(this.dots.attach(),r=n+2;r<this.breadcrumbItems.length;r++)this.breadcrumbItems[r].attach()}else for(r=0;r<this.breadcrumbItems.length;r++)this.breadcrumbItems[r].attach()}})}),define("widgets/Breadcrumb",["widgets/Breadcrumb/Breadcrumb"],function(e){return e});