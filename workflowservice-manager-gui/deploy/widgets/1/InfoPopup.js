/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("text!widgets/InfoPopup/_infoPopup.html",[],function(){return'<div class="ebInfoPopup" tabindex="1">\n	<div class="ebInfoPopup-infoIcon"><i class="ebIcon ebIcon_interactive ebIcon_medium"></i></div>\n	<div class="ebInfoPopup-content">\n        <div class="ebInfoPopup-closeButton"><i class="ebIcon ebIcon_close ebIcon_interactive"></i></div>\n		<div class="ebInfoPopup-contentText"></div>\n		<div class="ebInfoPopup-arrowShadow"></div>\n		<div class="ebInfoPopup-arrowBorder"></div>\n	</div>\n</div>\n'}),define("widgets/InfoPopup/InfoPopupView",["jscore/core","text!./_infoPopup.html"],function(t,e){"use strict";var i=t.View.extend({afterRender:function(){this._contentText=this.getElement().find(".ebInfoPopup-contentText"),this._content=this.getElement().find(".ebInfoPopup-content"),this._infoIcon=this.getElement().find(".ebIcon"),this._closeButton=this.getElement().find(".ebInfoPopup-closeButton")},getTemplate:function(){return e},getContentText:function(){return this._contentText},getContent:function(){return this._content},getInfoIcon:function(){return this._infoIcon},getCloseButton:function(){return this._closeButton},setContentText:function(e){this.getContentText().children().forEach(function(t){t.detach()}),this.getContentText().append(t.Element.parse("<span>"+e+"</span>"))}});return i}),define("widgets/InfoPopup/InfoPopup",["jscore/core","widgets/WidgetCore","widgets/utils/domUtils","./InfoPopupView"],function(t,e,i,n){"use strict";function o(e){if(this._isVisible=void 0!==e?e:!this._isVisible,this._isVisible){if(this.getElement().append(this.view.getContent()),!this._persistent){var i=t.Element.wrap(document.documentElement);this.bodyEventId||(this.bodyEventId=i.addEventHandler("click",function(e){if(e&&e.originalEvent){var n=t.Element.wrap(e.originalEvent.target);this.getElement().contains(n)||(i.removeEventHandler(this.bodyEventId),delete this.bodyEventId,o.call(this,!1))}}.bind(this)))}s.call(this)}else this.view.getContent().detach(),this.posInterval&&(clearInterval(this.posInterval),this.posInterval=void 0)}function s(){var t=this.view.getInfoIcon().getPosition(),e=h.call(this,t);this.view.getContent().setStyle({top:t.top+e.top+"px",left:t.left+e.left+"px"}),this.posInterval||(this.position=t,this.posInterval=setInterval(function(){var t=this.view.getInfoIcon().getPosition();(this.position.top!==t.top||this.position.left!==t.left)&&(this._persistent?(this.view.getContent().setStyle({top:t.top+e.top+"px",left:t.left+e.left+"px"}),this.position=t):this.setVisible(!1))}.bind(this),1e3/24))}function h(e){var i=this.view.getInfoIcon().getProperty("offsetHeight"),n=this.view.getInfoIcon().getProperty("offsetWidth"),o=8,s=12,h=this.view.getContent().getProperty("offsetHeight"),c=this.view.getContent().getProperty("offsetWidth"),r=t.Window.getProperty("innerWidth"),f=t.Window.getProperty("innerHeight"),d=this._corner;if("auto"===this._corner){var l=e.left+c>r,p=e.top+h>f;d=l&&!p?"topRight":l&&p?"bottomRight":!l&&p?"bottomLeft":"default"}this.view.getContent().setModifier("corner",d);var a={top:0,left:0};return"default"===d?(a.top+=i+o,a.left+=-s):"topRight"===d?(a.top+=i+o,a.left+=-c+n+s):"bottomLeft"===d?(a.top+=-h-o,a.left+=-s):"bottomRight"===d&&(a.top+=-h-o,a.left+=-c+n+s),a}return e.extend({View:n,init:function(){this._isVisible=!1,this._enabled=void 0!==this.options.enabled?this.options.enabled:!0,this._corner=void 0!==this.options.corner?this.options.corner:"auto",this._persistent=void 0!==this.options.persistent?this.options.persistent:!1,this._icon=this.options.icon||"info"},onViewReady:function(){this.setContent(this.options.content||""),this.view.getInfoIcon().setModifier(this._icon),this.view.getInfoIcon().addEventHandler("click",function(){this._enabled&&o.call(this)}.bind(this)),this.view.getCloseButton().addEventHandler("click",function(){o.call(this,!1)}.bind(this)),this._enabled||this.disable(),this.options.width&&this.view.getContent().setStyle("width",this.options.width),this.view.getContent().detach(),this.view.getContent().setStyle({position:"fixed",bottom:"inherit",right:"inherit"})},onDOMAttach:function(){this._onDOMAttachExecuted=!0,void 0!==this._onDOMAttachSetVisible&&this.setVisible(this._onDOMAttachSetVisible)},setContent:function(t){this.view.setContentText(t)},setVisible:function(t){this._onDOMAttachExecuted?o.call(this,t):this._onDOMAttachSetVisible=t},enable:function(){this._enabled=!0,this.view.getInfoIcon().removeModifier("disabled"),this.view.getInfoIcon().setModifier("interactive")},disable:function(){this._enabled=!1,this.view.getInfoIcon().removeModifier("interactive"),this.view.getInfoIcon().setModifier("disabled"),this.setVisible(!1)}})}),define("widgets/InfoPopup",["widgets/InfoPopup/InfoPopup"],function(t){return t});