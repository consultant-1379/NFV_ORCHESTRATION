/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("widgets/utils/textUtils",[],function(){"use strict";var e={getTextWidth:function(t,i){var n=e.getTextWidth.canvas||(e.getTextWidth.canvas=document.createElement("canvas")),o=n.getContext("2d");o.font=i;var r=o.measureText(t);return Math.round(r.width)}};return e}),define("template!widgets/Switcher/_switcher.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,o){function r(e){var t,n="";return n+=' style="width: ',f=i.width,t=f||e.width,typeof t===g?t=t.call(e,{hash:{}}):t===L&&(t=w.call(e,"width",{hash:{}})),n+=v(t)+';"'}function s(){return"checked"}function a(e){var t,n="";return n+=" ",f=i.onLabel,t=f||e.onLabel,typeof t===g?t=t.call(e,{hash:{}}):t===L&&(t=w.call(e,"onLabel",{hash:{}})),n+=v(t)+" "}function l(e){var t,n="";return n+=" ",f=i.offLabel,t=f||e.offLabel,typeof t===g?t=t.call(e,{hash:{}}):t===L&&(t=w.call(e,"offLabel",{hash:{}})),n+=v(t)+" "}i=i||e.helpers;var h,c,f,u,d="",b=this,g="function",w=i.helperMissing,L=void 0,v=this.escapeExpression;return d+='<label class="ebSwitcher" ',f=i.width,h=f||t.width,c=i["if"],u=b.program(1,r,o),u.hash={},u.fn=u,u.inverse=b.noop,h=c.call(t,h,u),(h||0===h)&&(d+=h),d+='>\n    <input type="checkbox" class="ebSwitcher-checkbox" ',f=i.value,h=f||t.value,c=i["if"],u=b.program(3,s,o),u.hash={},u.fn=u,u.inverse=b.noop,h=c.call(t,h,u),(h||0===h)&&(d+=h),d+='/>\n    <div class="ebSwitcher-body">\n        <div class="ebSwitcher-onLabel">',f=i.onLabel,h=f||t.onLabel,c=i["if"],u=b.program(5,a,o),u.hash={},u.fn=u,u.inverse=b.noop,h=c.call(t,h,u),(h||0===h)&&(d+=h),d+='</div>\n        <div class="ebSwitcher-switch"></div>\n        <div class="ebSwitcher-offLabel">',f=i.offLabel,h=f||t.offLabel,c=i["if"],u=b.program(7,l,o),u.hash={},u.fn=u,u.inverse=b.noop,h=c.call(t,h,u),(h||0===h)&&(d+=h),d+="</div>\n    </div>\n</label> "})}),define("widgets/Switcher/SwitcherView",["jscore/core","template!./_switcher.html"],function(e,t){"use strict";var i=e.View.extend({getTemplate:function(){return t(this.options)},getCheckbox:function(){return this.getElement().find("."+i.EL_CHECKBOX)},getOnLabel:function(){return this.getElement().find("."+i.EL_ONLABEL)},getOffLabel:function(){return this.getElement().find("."+i.EL_OFFLABEL)},getLabel:function(){var e=this.getCheckbox(),t=null;return t=e.getProperty("checked")?this.getOnLabel().getText():this.getOffLabel().getText()},getValue:function(){var e=this.getCheckbox();return e.getProperty("checked")?!0:!1},setValue:function(e){var t=this.getCheckbox();t.setProperty("checked",e)},setWidth:function(e){this.getElement().setStyle("width",e)},setColor:function(e){var t=this.getOnLabel(),i=this.getOffLabel();for(var n in e){var o=e[n];switch(n){case"onColor":0!==o.indexOf("#")?t.setModifier(o,void 0,"ebBgColor"):t.setStyle("background-color",o);break;case"offColor":0!==o.indexOf("#")?i.setModifier(o,void 0,"ebBgColor"):i.setStyle("background-color",o)}}}},{EL_CHECKBOX:"ebSwitcher-checkbox",EL_ONLABEL:"ebSwitcher-onLabel",EL_OFFLABEL:"ebSwitcher-offLabel"});return i}),define("widgets/Switcher/Switcher",["widgets/WidgetCore","./SwitcherView","../utils/textUtils"],function(e,t,i){"use strict";return e.extend({view:function(){return new t(this.options)},init:function(e){if(this.options=e||{},!(e.onLabel&&""!==e.onLabel||e.offLabel&&""!==e.offLabel))throw new Error("You must specify a on/off label")},onViewReady:function(){(this.options.onColor||this.options.offColor)&&this.setColor(this.options),this.getElement().addEventHandler("change",function(){this.trigger("change")},this)},onDOMAttach:function(){this.setWidth()},setWidth:function(){var e,t,n,o=this.getElement(),r=o.getStyle("font-size")+" "+o.getStyle("font-family");e=i.getTextWidth(this.options.offLabel,r),t=i.getTextWidth(this.options.onLabel,r),n=e>t?e:t,n=n+24+14,this.view.setWidth(n)},getValue:function(){return this.view.getValue()},getLabel:function(){return this.view.getLabel()},setValue:function(e){if("boolean"!=typeof e)throw new Error("Value need to be true or false.");this.view.setValue(e)},setColor:function(e){if(!e||"object"!=typeof e)throw new Error("Colors need to be specify.");this.view.setColor(e)}})}),define("widgets/Switcher",["widgets/Switcher/Switcher"],function(e){return e});