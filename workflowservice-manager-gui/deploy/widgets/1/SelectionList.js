/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("template!widgets/SelectionList/Item/_item.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i){i=i||e.helpers;var n,s,l="",o="function",a=i.helperMissing,c=void 0,h=this.escapeExpression;return l+='<div class="elWidgets-SelectionList-item">\n    <label class="elWidgets-SelectionList-label">',s=i.name,n=s||t.name,typeof n===o?n=n.call(t,{hash:{}}):n===c&&(n=a.call(t,"name",{hash:{}})),l+=h(n)+"</label>\n</div>"})}),define("widgets/SelectionList/Item/ItemView",["jscore/core","template!./_item.html"],function(e,t){"use strict";return e.View.extend({getTemplate:function(){return t(this.options)},getBody:function(){return this.getElement()},highlight:function(){this.getBody().setModifier("highlighted")},removeHighlight:function(){this.getBody().removeModifier("highlighted")}})}),define("widgets/SelectionList/Item/Item",["widgets/WidgetCore","./ItemView"],function(e,t){"use strict";return e.extend({view:function(){return new t(this.options.data)},init:function(){this._highlighted=!1},highlight:function(){this._highlighted=!0,this.view.getElement().setModifier("highlighted")},unhighlight:function(){this._highlighted=!1,this.view.getElement().removeModifier("highlighted")},isHighlighted:function(){return this._highlighted}})}),define("styles!widgets/SelectionList/_selectionList.less",[],function(){return".elWidgets-SelectionList {\n  border-bottom: 1px solid;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.elWidgets-SelectionList-header {\n  height: 100%;\n  float: left;\n  position: absolute;\n  width: calc(60% - 36px);\n}\n.elWidgets-SelectionList-header-icon {\n  vertical-align: initial;\n}\n.elWidgets-SelectionList-header-text {\n  padding-bottom: 0;\n  border-bottom: 0;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.elWidgets-SelectionList-actions {\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n.elWidgets-SelectionList-actions-label {\n  display: inline-block;\n  padding-right: 5px;\n}\n.elWidgets-SelectionList-actions-selectAll,\n.elWidgets-SelectionList-actions-deselectAll {\n  cursor: pointer;\n}\n.elWidgets-SelectionList-list {\n  position: relative;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.elWidgets-SelectionList-item {\n  position: relative;\n  display: block;\n  border-bottom: #e6e6e6 solid 1px;\n  margin: 0;\n  padding: 0;\n  min-height: 32px;\n  line-height: 32px;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n}\n.elWidgets-SelectionList-item:first-child {\n  border-top: #e6e6e6 solid 1px;\n}\n.elWidgets-SelectionList-item_highlighted {\n  background-color: rgba(0, 102, 179, 0.2);\n}\n.elWidgets-SelectionList-item_highlighted:hover {\n  background-color: rgba(0, 102, 179, 0.3);\n}\n.elWidgets-SelectionList-item:hover {\n  background-color: rgba(0, 102, 179, 0.1);\n}\n.elWidgets-SelectionList-label {\n  position: relative;\n  display: block;\n  cursor: pointer;\n  padding: 0 10px 0 10px;\n}\n"}),define("template!widgets/SelectionList/_selectionList.html",["jscore/handlebars/handlebars"],function(e){return e.template(function(e,t,i,n,s){function l(e){var t;return _=i.headerTagName,t=_||e.headerTagName,typeof t===E?t=t.call(e,{hash:{}}):t===W&&(t=A.call(e,"headerTagName",{hash:{}})),I(t)}function o(){return"h2"}function a(e){var t,n="";return n+='<i class="ebIcon ebIcon_',_=i.icon,t=_||e.icon,typeof t===E?t=t.call(e,{hash:{}}):t===W&&(t=A.call(e,"icon",{hash:{}})),n+=I(t)+' elWidgets-SelectionList-header-icon"></i> '}function c(e){var t;return _=i.headerTagName,t=_||e.headerTagName,typeof t===E?t=t.call(e,{hash:{}}):t===W&&(t=A.call(e,"headerTagName",{hash:{}})),I(t)}function h(){return"h2"}function r(e,t){var n,s,l="";return l+='\n    <div class="elWidgets-SelectionList-actions">\n        <div class="elWidgets-SelectionList-actions-label">',_=i.selectLabel,n=_||e.selectLabel,s=i["if"],S=b.program(12,d,t),S.hash={},S.fn=S,S.inverse=b.program(14,g,t),n=s.call(e,n,S),(n||0===n)&&(l+=n),l+=' </div>\n        <a class="elWidgets-SelectionList-actions-selectAll">',_=i.selectAllLabel,n=_||e.selectAllLabel,s=i["if"],S=b.program(16,u,t),S.hash={},S.fn=S,S.inverse=b.program(18,f,t),n=s.call(e,n,S),(n||0===n)&&(l+=n),l+='</a>\n        <div class="ebLayout-HeadingCommands-separator"></div>\n        <a class="elWidgets-SelectionList-actions-deselectAll">',_=i.selectNoneLabel,n=_||e.selectNoneLabel,s=i["if"],S=b.program(20,m,t),S.hash={},S.fn=S,S.inverse=b.program(22,p,t),n=s.call(e,n,S),(n||0===n)&&(l+=n),l+="</a>\n    </div>\n    "}function d(e){var t;return _=i.selectLabel,t=_||e.selectLabel,typeof t===E?t=t.call(e,{hash:{}}):t===W&&(t=A.call(e,"selectLabel",{hash:{}})),I(t)}function g(){return"Select:"}function u(e){var t;return _=i.selectAllLabel,t=_||e.selectAllLabel,typeof t===E?t=t.call(e,{hash:{}}):t===W&&(t=A.call(e,"selectAllLabel",{hash:{}})),I(t)}function f(){return"All"}function m(e){var t;return _=i.selectNoneLabel,t=_||e.selectNoneLabel,typeof t===E?t=t.call(e,{hash:{}}):t===W&&(t=A.call(e,"selectNoneLabel",{hash:{}})),I(t)}function p(){return"None"}i=i||e.helpers;var L,v,_,S,w="",b=this,E="function",A=i.helperMissing,W=void 0,I=this.escapeExpression;return w+='<div class="elWidgets-SelectionList">\n    <div class="ebLayout-SectionHeading">\n        <div class="elWidgets-SelectionList-header">\n            <',_=i.headerTagName,L=_||t.headerTagName,v=i["if"],S=b.program(1,l,s),S.hash={},S.fn=S,S.inverse=b.program(3,o,s),L=v.call(t,L,S),(L||0===L)&&(w+=L),w+=' class="elWidgets-SelectionList-header-text">',_=i.icon,L=_||t.icon,v=i["if"],S=b.program(5,a,s),S.hash={},S.fn=S,S.inverse=b.noop,L=v.call(t,L,S),(L||0===L)&&(w+=L),w+='<span class="elWidgets-SelectionList-header-text-span"></span></',_=i.headerTagName,L=_||t.headerTagName,v=i["if"],S=b.program(7,c,s),S.hash={},S.fn=S,S.inverse=b.program(9,h,s),L=v.call(t,L,S),(L||0===L)&&(w+=L),w+='>\n    </div>\n    <div class="ebLayout-HeadingCommands">\n            <div class="ebLayout-HeadingCommands-block">\n                <div class="elWidgets-SelectionList-dropdown"></div>\n            </div>\n        </div>\n        <div class="ebLayout-clearFix"></div>\n\n    </div>\n    ',_=i.showSelectActions,L=_||t.showSelectActions,v=i["if"],S=b.program(11,r,s),S.hash={},S.fn=S,S.inverse=b.noop,L=v.call(t,L,S),(L||0===L)&&(w+=L),w+='\n    <div class="elWidgets-SelectionList-content"></div>\n</div>'})}),define("widgets/SelectionList/SelectionListView",["jscore/core","template!./_selectionList.html","styles!./_selectionList.less"],function(e,t,i){"use strict";var n=e.View.extend({getTemplate:function(){return t(this.options)},getStyle:function(){return i},getBody:function(){return this.getElement()},getContent:function(){return this.getElement().find("."+n.EL_CONTENT)},getDropdownDiv:function(){return this.getElement().find("."+n.EL_DROPDOWN)},getActionsDiv:function(){return this.getElement().find("."+n.EL_ACTIONS)},getActionsSelectAll:function(){return this.getElement().find("."+n.EL_ACTIONS_SELECTALL)},getActionsClearSelection:function(){return this.getElement().find("."+n.EL_ACTIONS_DESELECTALL)},setHeader:function(e){this.getElement().find("."+n.EL_HEADER_SPAN).setText(e)},setHeaderWidth:function(){var e=this.getDropdownDiv().getProperty("offsetWidth");this.getElement().find("."+n.EL_HEADERDIV).setStyle("width","calc(100% - "+(e+10)+"px)")}},{EL_CONTENT:"elWidgets-SelectionList-content",EL_HEADERDIV:"elWidgets-SelectionList-header",EL_HEADER:"elWidgets-SelectionList-header-text",EL_HEADER_SPAN:"elWidgets-SelectionList-header-text-span",EL_DROPDOWN:"elWidgets-SelectionList-dropdown",EL_ACTIONS:"elWidgets-SelectionList-actions",EL_ACTIONS_SELECTALL:"elWidgets-SelectionList-actions-selectAll",EL_ACTIONS_DESELECTALL:"elWidgets-SelectionList-actions-deselectAll"});return n}),define("widgets/SelectionList/SelectionList",["widgets/WidgetCore","./SelectionListView","./Item/Item","widgets/Dropdown"],function(e,t,i,n){"use strict";function s(){this._data.forEach(function(e){this.addItem(e)}.bind(this))}function l(){this.dropdown=new n(this._dropdownData),this.dropdown.attachTo(this.view.getDropdownDiv()),this.addEventHandler("change",o.bind(this)),o.call(this)}function o(){this._selectedItems.length>0?this.dropdown.enable():this.dropdown.disable()}function a(){this.view.getActionsSelectAll().addEventHandler("click",function(){this.selectAll()}.bind(this)),this.view.getActionsClearSelection().addEventHandler("click",function(){this.clearSelection()}.bind(this))}function c(e,t,i){e.isHighlighted()?(e.unhighlight(),-1!==this._selectedItems.indexOf(e)&&this._selectedItems.splice(this._selectedItems.indexOf(e),1),t||this.clearSelection(!0),e.options.data.selected=!1):(e.highlight(),this._selectedItems.push(e),this._previouslyHightlighted=e,e.options.data.selected=!0),i||this.trigger("change")}function h(e){return this._items.indexOf(e)}function r(){var e=[];return this._selectedItems.forEach(function(t){e.push(h.call(this,t))}.bind(this)),e}function d(e){var t=!0,i=!1;return e.sort(function(e,t){return e-t}),e.forEach(function(n,s){i!==!1&&i!==n-1&&s!==e.length-1&&(t=!1),i=n}.bind(this)),t}function g(e,t){var i=e.getElement()._getHTMLElement(),n=this.getItems()[t],s=this.view.getContent()._getHTMLElement();n?(n=n.getElement()._getHTMLElement(),s.insertBefore(i,n)):row.attachTo(this.view.getBody())}return e.extend({view:function(){return this.options.headerTagName&&!/(h|H)[2-4]/.test(this.options.headerTagName)&&(this.options.headerTagName=void 0),new t(this.options)},init:function(e){e&&(this._data=e.items||[],this._items=[],this._selectedItems=[],e.dropdown&&(this._hasDropdown=!0,this._dropdownData=e.dropdown),e.showSelectActions&&(this._showSelectActions=!0),e.header&&(this._header=e.header))},setHeader:function(e){this.view.setHeader(e),this.view.setHeaderWidth()},onViewReady:function(){this._data&&s.call(this),this._hasDropdown&&l.call(this),this._showSelectActions&&a.call(this),this._header&&this.setHeader(this._header)},onDOMAttach:function(){this.view.setHeaderWidth()},getItems:function(){return this._items},removeItem:function(e){var t=this._items[e];-1!==this._selectedItems.indexOf(t)&&this._selectedItems.splice(this._selectedItems.indexOf(t),1),this._items[e]&&this._items.splice(e,1),t.destroy()},clearSelection:function(e){this._items.forEach(function(e){e.isHighlighted()&&c.call(this,e,!0,!0)}.bind(this)),e||this.trigger("change")},selectAll:function(e){this._items.forEach(function(e){e.isHighlighted()||c.call(this,e,!1,!0)}.bind(this)),e!==!0&&this.trigger("change")},selectItem:function(e){e=parseInt(e),e>=0&&e<this._items.length&&c.call(this,this._items[e])},getSelected:function(){var e=[];return this._selectedItems.forEach(function(t){var i=t.options.data;i.index=h.call(this,t),e.push(i)}.bind(this)),e},addItem:function(e,t){var n=new i({data:e,list:this});void 0===t?(this._items.push(n),n.attachTo(this.view.getContent())):(g.call(this,n,t),this._items.splice(t,0,n)),n.view.getBody().addEventHandler("click",function(e){if(e.originalEvent.preventDefault(),e.originalEvent.shiftKey&&this._previouslyHightlighted&&this._previouslyHightlighted!==n){e.preventDefault();var t=h.call(this,this._previouslyHightlighted),i=h.call(this,n),s=Math.max(t,i),l=Math.min(t,i),o=this._selectedItems.length,a=r.call(this),g=Math.min.apply(this,a),u=Math.max.apply(this,a),f=d(a);o>1&&f&&(g>i&&t===u||i>g&&t===g)&&c.call(this,this._items[t],!0,!0);for(var m=l;s>=m;m++)m!==i&&m!==t&&(f!==!0&&this._items[m].isHighlighted()||c.call(this,this._items[m],!0,!0));c.call(this,n,!0,!0),this.trigger("change")}else e.originalEvent.ctrlKey&&this._selectedItems.length>0?c.call(this,n,!0):(this._selectedItems.length>0&&-1===this._selectedItems.indexOf(n)&&this.clearSelection(!0),c.call(this,n))}.bind(this)),e.selected===!0&&c.call(this,n)},setItems:function(e){this.clear(),e.forEach(function(e){this.addItem(e)}.bind(this))},clear:function(){this._items.forEach(function(e){e.destroy()}.bind(this)),this._items=[],this._selectedItems=[]},getDropdown:function(){return this.dropdown},destroy:function(){this.clear(),e.prototype.destroy.call(this)}})}),define("widgets/SelectionList",["widgets/SelectionList/SelectionList"],function(e){return e});