define("container/base/Promise",[],function(){return function(e,n){function t(e,n){return(typeof n)[0]===e}function r(o,c){return c=function s(u,a,f,p,l,h){function g(e){return function(n){l&&(l=0,s(t,e,n))}}if(p=s.q,u!==t)return r(function(e,n){p.push({p:this,r:e,j:n,1:u,0:a})});if(f&&t(e,f)|t(n,f))try{l=f.then}catch(v){a=0,f=v}if(t(e,l))try{l.call(f,g(1),a=g(0))}catch(v){a(v)}else for(c=function(n,c){return t(e,n=a?n:c)?r(function(e,t){i(this,e,t,f,n)}):o},h=0;h<p.length;)l=p[h++],t(e,u=l[a])?i(l.p,l.r,l.j,f,u):(a?l.r:l.j)(f)},c.q=[],o.call(o={then:function(e,n){return c(e,n)},"catch":function(e){return c(0,e)}},function(e){c(t,1,e)},function(e){c(t,0,e)}),o}function i(r,i,o,c,s){setTimeout(function(){try{c=s(c),s=c&&t(n,c)|t(e,c)&&c.then,t(e,s)?c==r?o(TypeError()):s.call(c,i,o):i(c)}catch(u){o(u)}},0)}function o(e){return r(function(n){n(e)})}return r.resolve=o,r.reject=function(e){return r(function(n,t){t(e)})},r.all=function(e){return r(function(n,t,r,i){i=[],r=e.length||n(i),e.map(function(e,c){o(e).then(function(e){i[c]=e,--r||n(i)},t)})})},r}("f","o")}),define("container/Helpers",["./base/Promise"],function(e){return{clone:function(e){return void 0!==e?JSON.parse(JSON.stringify(e)):void 0},isObject:function(e){return e===Object(e)&&!(e instanceof Array)},extend:function(e){return Array.prototype.forEach.call(Array.prototype.slice.call(arguments,1),function(n){if(n)for(var t in n){var r=n[t],i=e[t];e[t]=this.isObject(r)&&this.isObject(i)?this.extend(i,r):r}}.bind(this)),e},resolvedPromise:function(n){return new e(function(e){e(n)})},requirePromise:function(n,t){return new e(function(e,r){t?require(t,n,function(){e(arguments)},r):require(n,function(){e(arguments)},r)})}}}),define("container/PackageProperties",["./Helpers","config"],function(e,n){function t(t){var r=n.properties||{},i=r[t]||{},o=e.clone(r["*"]||{});return e.extend(o,i)}var r=e.requirePromise,i=e.clone;return{resolveTitle:function(n,t){var r=require.s.contexts[n].config;return r.i18n&&r.i18n.locales.length>0?e.requirePromise(["i18n!"+n+"/app.json"],{context:n}).then(function(e){return e[0].title||e[0].name},function(){return t.title||t.name}):e.resolvedPromise(t.title||t.name)},getProperties:function(n){var i;return r([n+"/config"]).then(function(r){return i=e.extend(r[0],t(n)),this.createContext(n,i),this.resolveTitle(n,i)}.bind(this)).then(function(e){return i.title=e,i})},createContext:function(e,n){if(require.s.contexts[e])return require.s.contexts[e].config;var t=require.s.contexts._.config,r={context:e,baseUrl:t.baseUrl,paths:i(t.paths||{}),resources:t.resources,i18n:i(t.i18n),packages:i(t.packages||[])};if(n.libs)for(var o in n.libs){var c=o+"/"+n.libs[o];r.paths[o]=c}if(n.assets&&(r.paths.assets="assets/"+n.assets),n.paths)for(var s in n.paths)r.paths[s]=n.paths[s];return n.i18n&&(r.i18n=n.i18n),n.packages&&n.packages.forEach(function(e){r.packages.push(e)}),r.children=n.children,r.script=n.script?n.script:e+"/"+e,require.config(r),require.s.contexts[e].config.packages.forEach(function(n){"assets"===n.name&&(require.s.contexts[e].config.paths.assets=n.location)}),r}}}),define("container/APIImpl",["config","jscore/core","./PackageProperties"],function(e,n,t){var r=new n.EventBus,i=function(e){e=e||{},this._packageProperties=e.packageProperties};return i.prototype.getEventBus=function(){return r},i.prototype.setEventBus=function(e){r=e},i.prototype.setProperties=function(e){this._packageProperties=e},i.prototype.setContainerName=function(e){r.publish("container:name",e)},i.prototype.getProperties=function(e,n,r){if(e){var i=t.getProperties(e);return n&&i.then(n,r),i}return this._packageProperties},i}),define("container/api",["./APIImpl"],function(e){var n;return n||(n=new e),n});