/* Copyright (c) Ericsson 2015 */

define("3pps/wfs/WfCountsClient",["jscore/core","jscore/ext/mvp","jscore/ext/net","3pps/wfs/WfClientCommon"],function(r,e,s,n){var t={};return t.getDefinitionCount=function(r){if(r=r||{},null==r.success)throw new Error("success callback missing");var s="/engine-rest/engine/default/process-definition/count",n=0;if(null!=r.latest&&(s+="?latest="+(r.latest?"true":"false"),n++),null!=r.sortBy){if(-1==["name"].indexOf(r.sortBy))throw new Error("Invalid sortBy value: "+sortBy);if(s+=(n>0?"&":"?")+"sortBy="+r.sortBy,null!=r.sortOrder){if(-1==["asc","desc"].indexOf(r.sortOrder))throw new Error("Invalid sortOrder value: "+sortOrder);s+="&sortOrder="+r.sortOrder}}var t=new e.Collection([],{url:s});t.fetch({success:function(e){r.success(e.toJSON()[0].count)},error:function(e){r.error&&r.error.call(this,e)}})},t.getWfWorkflowInstancesCount=function(r){if(r=r||{},null==r.success)throw new Error("success callback missing");var s="/engine-rest/engine/default/process-instance/count",n=0;if(null!=r.active&&(s+="?active="+(r.active?"true":"false"),n++),null!=r.sortBy&&(s+=(n>0?"&":"?")+"sortBy="+r.sortBy,null!=r.sortOrder)){if(-1==["asc","desc"].indexOf(r.sortOrder))throw new Error("Invalid sortOrder value: "+sortOrder);s+="&sortOrder="+r.sortOrder}var t=new e.Collection([],{url:s});t.fetch({success:function(e){r.success(e.toJSON()[0].count)},error:function(e){r.error&&r.error.call(this,e)}})},t.getWfActiveTasksCount=function(r){if(r=r||{},null==r.success)throw new Error("success callback missing");var s="/engine-rest/engine/default/task/count",n=0;if(null!=r.active&&(s+="?active="+(r.active?"true":"false"),n++),null!=r.sortBy&&(s+=(n>0?"&":"?")+"sortBy="+r.sortBy,null!=r.sortOrder)){if(-1==["asc","desc"].indexOf(r.sortOrder))throw new Error("Invalid sortOrder value: "+sortOrder);s+="&sortOrder="+r.sortOrder}var t=new e.Collection([],{url:s});t.fetch({success:function(e){r.success(e.toJSON()[0].count)},error:function(e){r.error&&r.error.call(this,e)}})},t.getWorkflowInstanceTotal=function(r){if(r=r||{},null==r.success)throw new Error("success callback missing");var s="/engine-rest/engine/default/process-instance/count",n=0;if(null!=r.active&&(s+="?active="+(r.active?"true":"false"),n++),null!=r.suspended&&(s+="&suspended="+(r.suspended?"true":"false"),n++),null!=r.processDefinitionId&&(s+="?processDefinitionId="+r.processDefinitionId,n++),null!=r.sortBy&&(s+=(n>0?"&":"?")+"sortBy="+r.sortBy,null!=r.sortOrder)){if(-1==["asc","desc"].indexOf(r.sortOrder))throw new Error("Invalid sortOrder value: "+sortOrder);s+="&sortOrder="+r.sortOrder}var t=new e.Collection([],{url:s});t.fetch({success:function(e){r.success(e.toJSON()[0].count)},error:function(e){r.error&&r.error.call(this,e)}})},t.getWorkflowInstanceActive=function(r){if(r=r||{},null==r.success)throw new Error("success callback missing");var s="/engine-rest/engine/default/process-instance/count",n=0;if(null!=r.active&&(s+="?active="+(r.active?"true":"false"),n++),null!=r.suspended&&(s+="&suspended="+(r.suspended?"true":"false"),n++),null!=r.processDefinitionId&&(s+="&processDefinitionId="+r.processDefinitionId,n++),null!=r.sortBy){if(-1==["name"].indexOf(r.sortBy))throw new Error("Invalid sortBy value: "+sortBy);if(s+=(n>0?"&":"?")+"sortBy="+r.sortBy,null!=r.sortOrder){if(-1==["asc","desc"].indexOf(r.sortOrder))throw new Error("Invalid sortOrder value: "+sortOrder);s+="&sortOrder="+r.sortOrder}}var t=new e.Collection([],{url:s});t.fetch({success:function(e){r.success(e.toJSON()[0].count)},error:function(e){r.error&&r.error.call(this,e)}})},t.getWorkflowInstanceCancelled=function(r){if(r=r||{},null==r.success)throw new Error("success callback missing");var s="/engine-rest/engine/default/process-instance/count",n=0;if(null!=r.active&&(s+="?active="+(r.active?"true":"false"),n++),null!=r.suspended&&(s+="&suspended="+(r.suspended?"true":"false"),n++),null!=r.processDefinitionId&&(s+="&processDefinitionId="+r.processDefinitionId,n++),null!=r.sortBy){if(-1==["name"].indexOf(r.sortBy))throw new Error("Invalid sortBy value: "+sortBy);if(s+=(n>0?"&":"?")+"sortBy="+r.sortBy,null!=r.sortOrder){if(-1==["asc","desc"].indexOf(r.sortOrder))throw new Error("Invalid sortOrder value: "+sortOrder);s+="&sortOrder="+r.sortOrder}}var t=new e.Collection([],{url:s});t.fetch({success:function(e){r.success(e.toJSON()[0].count)},error:function(e){r.error&&r.error.call(this,e)}})},t.getTasksTotal=function(r){if(r=r||{},null==r.success)throw new Error("success callback missing");var s="/engine-rest/engine/default/task/count",n=0;if(null!=r.active&&(s+="?active="+(r.active?"true":"false"),n++),null!=r.suspended&&(s+="&suspended="+(r.suspended?"true":"false"),n++),null!=r.sortBy){if(-1==["name"].indexOf(r.sortBy))throw new Error("Invalid sortBy value: "+sortBy);if(s+=(n>0?"&":"?")+"sortBy="+r.sortBy,null!=r.sortOrder){if(-1==["asc","desc"].indexOf(r.sortOrder))throw new Error("Invalid sortOrder value: "+sortOrder);s+="&sortOrder="+r.sortOrder}}var t=new e.Collection([],{url:s});t.fetch({success:function(e){r.success(e.toJSON()[0].count)},error:function(e){r.error&&r.error.call(this,e)}})},t.getTasksActive=function(r){if(r=r||{},null==r.success)throw new Error("success callback missing");var s="/engine-rest/engine/default/task/count",n=0;if(null!=r.active&&(s+="?active="+(r.active?"true":"false"),n++),null!=r.suspended&&(s+="&suspended="+(r.suspended?"true":"false"),n++),null!=r.sortBy){if(-1==["name"].indexOf(r.sortBy))throw new Error("Invalid sortBy value: "+sortBy);if(s+=(n>0?"&":"?")+"sortBy="+r.sortBy,null!=r.sortOrder){if(-1==["asc","desc"].indexOf(r.sortOrder))throw new Error("Invalid sortOrder value: "+sortOrder);s+="&sortOrder="+r.sortOrder}}var t=new e.Collection([],{url:s});t.fetch({success:function(e){r.success(e.toJSON()[0].count)},error:function(e){r.error&&r.error.call(this,e)}})},t.getInstances2=function(r){if(r=r||{},null==r.success)throw new Error("success callback missing");var s="/workflowservice-ext/rest/progress-service/process-instance/",n=0;null!=r.workflowDefinitionId&&(s+=r.workflowDefinitionId,n++);var t=new e.Collection([],{url:s});t.fetch({success:function(e){r.success(e)},error:function(e){r.error&&r.error.call(this,e)}})},t.getAncestry=function(r){if(r=r||{},null==r.success)throw new Error("success callback missing");var s="/workflowservice-ext/rest/progress-service/process-instance/",n=0;null!=r.processInstanceId&&(s+=r.processInstanceId+"/ancestry",n++);var t=new e.Collection([],{url:s});t.fetch({success:function(e){r.success(e)},error:function(e){r.error&&r.error.call(this,e)}})},t.getTasksCancelled=function(r){if(r=r||{},null==r.success)throw new Error("success callback missing");var s="/engine-rest/engine/default/task/count",n=0;if(null!=r.active&&(s+="?active="+(r.active?"true":"false"),n++),null!=r.suspended&&(s+="&suspended="+(r.suspended?"true":"false"),n++),null!=r.sortBy){if(-1==["name"].indexOf(r.sortBy))throw new Error("Invalid sortBy value: "+sortBy);if(s+=(n>0?"&":"?")+"sortBy="+r.sortBy,null!=r.sortOrder){if(-1==["asc","desc"].indexOf(r.sortOrder))throw new Error("Invalid sortOrder value: "+sortOrder);s+="&sortOrder="+r.sortOrder}}var t=new e.Collection([],{url:s});t.fetch({success:function(e){r.success(e.toJSON()[0].count)},error:function(e){r.error&&r.error.call(this,e)}})},t});