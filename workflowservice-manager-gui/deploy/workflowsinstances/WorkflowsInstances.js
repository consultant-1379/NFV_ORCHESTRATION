/* Copyright (c) Ericsson 2015 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("styles!workflowsinstances/workflowsInstances.less",function(){return".eaWorkflowsInstances-MainRegion {\n  padding-left: 45px;\n}\n.eaWorkflowsInstances-MainRegion-Title {\n  font-size: 3rem;\n  padding-top: 8px;\n  padding-bottom: 5px;\n}\n.eaWorkflowsInstances-MainRegion-Heading {\n  padding: 0px;\n}\n.eaWorkflowsInstances-MainRegion-DividerBottom {\n  border-bottom: 1px solid #666666;\n  height: 20px;\n}\n.eaWorkflowsInstances-MainRegion-ActiveInstancesIcon {\n  display: inline-block;\n  vertical-align: middle;\n  background: url('workflowsinstances/resources/workflowsinstances/active_icon_24px.svg');\n  background-repeat: no-repeat;\n  height: 40px;\n  width: 50%;\n  padding-left: 22px;\n}\n.eaWorkflowsInstances-MainRegion-CancelledInstancesIcon {\n  display: inline-block;\n  vertical-align: middle;\n  background: url('workflowsinstances/resources/workflowsinstances/cancelled_icon_24px.svg');\n  background-repeat: no-repeat;\n  height: 40px;\n  width: 25px;\n  padding-left: 22px;\n}\n.eaWorkflowsInstances-MainRegion-WorkflowInstancesName {\n  padding-left: 110px;\n  padding-top: 15px;\n}\n.eaWorkflowsInstances-MainRegion-WorkflowInstances {\n  padding-left: 22px;\n}\n.eaWorkflowsInstances-MainRegion-ActiveInstancesName {\n  padding-left: 110px;\n  padding-top: 15px;\n}\n.eaWorkflowsInstances-MainRegion-InactiveInstancesName {\n  padding-left: 110px;\n  padding-top: 15px;\n}\n.eaWorkflowsInstances-MainRegion-InactiveInstances {\n  font-size: 8rem;\n  padding-bottom: 30px;\n}\n.eaWorkflowsInstances-MainRegion-PausedInstancesName {\n  padding-left: 110px;\n  padding-top: 15px;\n}\n.eaWorkflowsInstances-MainRegion-PausedInstances {\n  font-size: 8rem;\n  padding-bottom: 30px;\n}\n.eaWorkflowsInstances-MainRegion-CancelledInstancesName {\n  padding-left: 110px;\n  padding-top: 15px;\n}\n.eaWorkflowsInstances-MainRegion-WorkflowInstancesDivider {\n  border-bottom: #cccccc solid 1px;\n  padding-top: 58px;\n  width: 250px;\n}\n.eaWorkflowsInstances-MainRegion-ActiveInstancesDivider {\n  border-bottom: #cccccc solid 1px;\n  padding-top: 35px;\n}\n.eaWorkflowsInstances-MainRegion-Panel {\n  display: inline-block;\n  padding-top: 5px;\n}\n.eaWorkflowsInstances-MainRegion-Panel-iconHolder-CreateInstancesButtonHolder {\n  width: 150px;\n}\n.eaWorkflowsInstances-MainRegion-Panel-CreateNewDefinition {\n  display: inline-block;\n  cursor: pointer;\n  cursor: hand;\n}\n.eaWorkflowsInstances-MainRegion-contentWfInstances-home {\n  height: 750px;\n}\n.eaWorkflowsInstances-MainRegion-contentWfInstances-home-Overview {\n  height: 50px;\n  float: left;\n  display: inline-block;\n}\n.eaNFE_automation_UI-WfInstances {\n  float: left;\n  display: inline-block;\n  width: 100%;\n  padding-top: 0px;\n}\n.eaNFE_automation_UI-WfInstances-SectionHeading {\n  border-bottom: 1px solid #666666;\n}\n.eaNFE_automation_UI-WfInstances-SectionHeading-Filter {\n  padding-top: 10px;\n}\n.ebIcon_interactive {\n  vertical-align: text-top;\n}\n.elLayouts-TopSection {\n  margin-left: 0px ! important;\n  margin-right: 70px ! important;\n}\n.elLayouts-TopSection-breadcrumb {\n  padding-top: 2.2rem !important;\n}\n.eaContainer-applicationHolder {\n  top: 24px !important;\n}\n"}),define("text!workflowsinstances/workflowsInstances.html",function(){return'<div class="eaWorkflowsInstances-MainRegion">\r\n	<!-- <div class="eaWorkflowsInstances-MainRegion-Breadcrumb"></div> -->\r\n                  <!-- <div class="eaWorkflowsInstances-MainRegion-Title">{{workflowInstances}}</div>  -->            \r\n                  		<div class="eaWorkflowsInstances-MainRegion-Panel">\r\n                  			<div class="eaWorkflowsInstances-MainRegion-Panel-iconHolder">\r\n                  				<!-- <div class="eaWorkflowsInstances-MainRegion-Panel-iconHolder-CreateInstancesButtonHolder">\r\n        						<i class="ebIcon ebIcon_medium ebIcon_plus ebIcon_interactive" title="Plus"></i>				\r\n                  					<div class="eaWorkflowsInstances-MainRegion-Panel-CreateNewDefinition">Create new instance</div>\r\n                  				</div>   -->\r\n                  			</div> \r\n      						<!-- <div class="eaWorkflowsInstances-MainRegion-contentWfInstances-home">\r\n						<div class="eaWorkflowsInstances-MainRegion-contentWfInstances-home-Overview">\r\n          					<div class="ebLayout-SectionHeading eaWorkflowsInstances-MainRegion-Heading"><h2>Template Overview</h2></div>		\r\n                  				<div class="eaWorkflowsInstances-MainRegion-WorkflowInstancesName">Workflow</br>Instances</div>\r\n                  				<div class="eaWorkflowsInstances-MainRegion-WorkflowInstances"> </div>\r\n                  				<div class="eaWorkflowsInstances-MainRegion-WorkflowInstancesDivider"></div>	\r\n                  				<div class="eaWorkflowsInstances-MainRegion-ActiveInstancesName">Active</br>Instances</div>\r\n                  				<div class="eaWorkflowsInstances-MainRegion-ActiveInstances">\r\n                  					<div class="eaWorkflowsInstances-MainRegion-ActiveInstancesIcon"></div> </div>\r\n                  				<div class="eaWorkflowsInstances-MainRegion-ActiveInstancesDivider"></div>                				    				\r\n                  				<div class="eaWorkflowsInstances-MainRegion-CancelledInstancesName">Suspended</br>Instances</div>\r\n                  				<div class="eaWorkflowsInstances-MainRegion-CancelledInstances">\r\n                  					<div class="eaWorkflowsInstances-MainRegion-CancelledInstancesIcon"></div> </div>	\r\n                  				<div class="eaWorkflowsInstances-MainRegion-DividerBottom"></div> \r\n            			</div>\r\n      						</div> -->\r\n					</div>\r\n</div>'}),define("workflowsinstances/WorkflowsInstancesView",["jscore/core","text!./workflowsInstances.html","styles!./workflowsInstances.less"],function(n,e,t){return n.View.extend({getTemplate:function(){return e},getStyle:function(){return t},getBreadcrumb:function(){return this.getElement().find(".eaWorkflowsInstances-MainRegion-Breadcrumb")},getWfInstancesContent:function(){return this.getElement().find(".elLayouts-SlidingPanels-center")},getCreateInstanceButton:function(){return this.getElement().find(".eaWorkflowsInstances-MainRegion-Panel-iconHolder-CreateInstancesButtonHolder")},getWorkflowInstanceTotal:function(){return this.getElement().find(".eaWorkflowsInstances-MainRegion-WorkflowInstances")},getWorkflowInstanceActive:function(){return this.getElement().find(".eaWorkflowsInstances-MainRegion-ActiveInstancesIcon")},getWorkflowInstanceCancelled:function(){return this.getElement().find(".eaWorkflowsInstances-MainRegion-CancelledInstancesIcon")},getPageTitle:function(){return this.getElement().find(".eaWorkflowsInstances-MainRegion-Title")},getPercentageIndicator:function(){return this.getElement().find(".eaNFE_automation_UI-WfBarPercentageCell-contentTable-PercentageIndicator")},getActiveTasks:function(){return this.getElement().find(".eaNFE_automation_UI-WfBarPercentageCell-contentTable-PercentageIndicator")}})}),define("workflowsinstances/WorkflowsInstances",["jscore/core","jscore/ext/mvp","./WorkflowsInstancesView","widget/WfInstances/WfInstances","widget/WfDefinitions/CreateWfInstanceForm/CreateWfInstanceForm","widget/WfInstances/WfInstancesTable/WfInstancesTable","layouts/SlidingPanels","layouts/TopSection","jscore/ext/locationController","widget/WfInstances/InstancesCounters/InstancesCounters"],function(n,e,t,a,s,o,r,c,l,d){return n.App.extend({View:t,updateURLParams:function(){var n=window.location.hash,e=n.substring(n.indexOf("/")+1).split("/");this.params={id:e[0],name:e[1]}},onAttach:function(){this.wfInstances&&(this.wfInstances.update(),this.hideCreateInstanceForm(),this.showTable())},onStart:function(){var n=this;n.updateURLParams();var t=this.options.breadcrumb,s=[{name:"ENM",url:"#workflowmanager"}];for(i=1;i<t.length;i++)s.push(t[i]);var o={name:"Workflow Manager",url:"#workflowmanager",children:[{name:"All Workflow Instances",url:"#workflowmanager/allworkflowinstances"},{name:"Active Tasks",url:"#workflowmanager/activetasks"},{name:"Workflow History",url:"#workflowmanager/workflowhistory"}]};s.splice(1,0,o),this.layout=new c({context:this.getContext(),title:"Workflow Instances",breadcrumb:s,defaultActions:[{type:"button",color:"blue",name:"Create New Instance",link:"#",action:function(){n.wfInstances.detach();var t=new e.Model(n.params);n.showCreateInstanceForm(t)}},{type:"separator"},{type:"link",color:"blue",name:"All Workflow Instances",link:"#",action:function(){var n=new l,e="workflowmanager/allworkflowinstances";n.setLocation(e,!1)}},{type:"separator"},{type:"link",color:"blue",name:"All Active Tasks",link:"#",action:function(){var n=new l,e="workflowmanager/activetasks";n.setLocation(e,!1)}},{type:"separator"},{type:"link",color:"blue",name:"Workflow History",link:"#",action:function(){var n=new l,e="workflowmanager/workflowhistory";n.setLocation(e,!1)}}]}),this.layout.attachTo(this.getElement()),this.layout.setContent(new r({context:this.getContext(),main:{label:"Main Body",contents:n.wfInstances=new a({showingProgress:!0,showingDiagram:!0,filterValueActive:!0,hidePercentage:!1,regionContext:this.getContext()})},left:{label:"Overview",expanded:!0,contents:new d({context:this.getContext()})}}))},hideTable:function(){null!=this.WfDefinitionsTable&&(this.tableContentHeight=this.view.getTableContent().getStyle("height"),this.WfDefinitionsTable.destroy(),this.WfDefinitionsTable=null,this.view.getTableContent().setStyle("height","0px"))},showTable:function(){this.hideTable(),this.wfInstancesTable=new o({regionEventBus:this.regionEventBus2,showingProgress:!0,showingDiagram:!0,filterValueActive:!0}),this.wfInstances.attachTo(this.view.getWfInstancesContent()),this.tableContentHeight&&this.view.getWfInstancesContent().setStyle("height",this.tableContentHeight),this.wfInstancesTable.getEventBus().subscribe("createinstance",function(n){this.createInstance(n)}.bind(this)),this.wfInstancesTable.getEventBus().subscribe("showdiagram",function(n){this.bpmnDiagram=new WfDiagram({xid:"def-",wfDefinitionId:n.getAttribute("id"),wfName:n.getAttribute("name")}),this.regionEventBus.publish("display-element",["DefinitionDiagram",this.bpmnDiagram])}.bind(this))},showCreateInstanceForm:function(n){this.hideCreateInstanceForm(),this.CreateWfInstanceForm=new s({minHeight:this.tableContentHeight,wfDefinitionModel:n,createHandledCallback:this.createHandledCallback.bind(this),regionContext:this.getContext()}),this.CreateWfInstanceForm.attachTo(this.view.getWfInstancesContent())},hideCreateInstanceForm:function(){null!=this.CreateWfInstanceForm&&this.CreateWfInstanceForm.destroy(),this.CreateWfInstanceForm=null},createInstance:function(n){this.hideTable(),this.showCreateInstanceForm(n),this.showTable()},createHandledCallback:function(n){this.hideCreateInstanceForm(),this.bpmnDiagram&&this.bpmnDiagram.destroy(),this.showTable()}})});