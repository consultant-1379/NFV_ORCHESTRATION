/* Copyright (c) Ericsson 2014 */
define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("text!tablelib/plugins/resizableheader/ResizableHeader.html",[],function(){return'<div class="ebTable-headerResize"></div>'}),define("text!tablelib/plugins/WrappedHeader.html",[],function(){return'<th>\n    <div class="ebTable-header">\n      <span class="ebTable-headerText"></span>\n    </div>\n</th>'}),define("tablelib/plugins/Utils",["jscore/core","text!./WrappedHeader.html"],function(e,t){return{wrapHeaderContent:function(n){var i=n.getElement()._getHTMLElement(),a="elTables-wrappedHeader";if(!i.classList.contains(a)){for(var r=e.Element.parse(t),l=r.find(".ebTable-headerText")._getHTMLElement();i.hasChildNodes();)l.appendChild(i.removeChild(i.firstChild));for(r=r._getHTMLElement();r.hasChildNodes();)i.appendChild(r.removeChild(r.firstChild));i.classList.add(a)}},preventDefault:function(e){e.preventDefault()}}}),define("tablelib/plugins/Plugin",["jscore/core"],function(e){var t=function(e){this.options=e||{},this.init.apply(this,arguments)};return t.prototype.init=function(){},t.prototype.getOptions=function(){return this.options},t.prototype.getTable=function(){return this._table},t.prototype.injections={before:{},after:{},newMethods:{}},t.extend=e.extend,t}),define("tablelib/plugins/resizableheader/ResizableHeader",["jscore/core","../Plugin","../Utils","text!./ResizableHeader.html","jscore/ext/utils/base/underscore"],function(e,t,n,i,a){function r(){var t=[];this.getTable().getHeaderRow().getCells().forEach(function(a){if(a.getColumnDefinition().resizable){n.wrapHeaderContent(a);var r=e.Element.parse(i);a.getElement().find(".ebTable-header").append(r),a.getElement()._getHTMLElement().classList.add("ebTable-th_resizable"),r.addEventHandler("mousedown",s.bind(a))}a.getElement()._getHTMLElement().style.width||t.push(a)}.bind(this)),t.forEach(function(e){var n=e.getElement().getProperty("offsetWidth");this.getTable().setColumnWidth(e.getIndex(),n-Math.ceil(u/t.length)+"px")}.bind(this)),this.getTable().view.getWrapper().setStyle("max-width","100%"),this.getTable().setWidth("0"),l.call(this)}function l(){var e=this.getTable().view.getTable().getProperty("offsetWidth")+u;this.getTable().view.getWrapper().setStyle("width",e+"px")}function s(t){document.addEventListener("mousemove",n.preventDefault,!1),this._startX=t.originalEvent.pageX,this._startW=this.getElement().getProperty("offsetWidth"),this._mouseMoveEvent=e.Element.wrap(document.body).addEventHandler("mousemove",o.bind(this)),this._mouseUpEvent=e.Element.wrap(document.body).addEventHandler("mouseup mouseleave",d.bind(this))}function o(e){var t=Math.max(60,this._startW-(this._startX-e.originalEvent.pageX));this.getTable().setColumnWidth(this.getIndex(),t+"px"),l.call(this)}function d(){e.Element.wrap(document.body).removeEventHandler(this._mouseUpEvent),e.Element.wrap(document.body).removeEventHandler(this._mouseMoveEvent),document.removeEventListener("mousemove",n.preventDefault,!1);var t=a.clone(this.getColumnDefinition());t.width=this.getElement().getProperty("offsetWidth")+"px";var i=this.getTable();requestAnimationFrame(function(){requestAnimationFrame(function(){i.trigger("columnresize",t)})})}function h(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e);var t=e.offsetWidth;e.setAttribute("class","eb_scrollbar"),e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i}var u=h();return t.extend({injections:{after:{onTableReady:r}}})}),define("tablelib/plugins/ResizableHeader",["tablelib/plugins/resizableheader/ResizableHeader"],function(e){return e});