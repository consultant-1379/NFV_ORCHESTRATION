define('text',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('styles',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('template',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});define('json',{load:function(e){throw new Error('Dynamic load not allowed: '+e)}});
define("styles!layouts/dashboard/Item/item.less",[],function(){return".elWidgets-Dashboard-item {\n  background-color: #ffffff;\n  border: 1px #ffffff solid;\n  border-radius: 3px;\n  padding: 8px;\n  padding-top: 0;\n  margin-bottom: 10px;\n  -webkit-animation: fadein 1s;\n  -moz-animation: fadein 1s;\n  -ms-animation: fadein 1s;\n  -o-animation: fadein 1s;\n  animation: fadein 1s;\n  /* Firefox < 16 */\n\n  /* Safari, Chrome and Opera > 12.1 */\n\n  /* Internet Explorer */\n\n  /* Opera < 12.1 */\n\n}\n@keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-moz-keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-ms-keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-o-keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n.elWidgets-Dashboard-item_dragged {\n  -webkit-animation: none;\n  /* Safari, Chrome and Opera > 12.1 */\n\n  -moz-animation: none;\n  /* Firefox < 16 */\n\n  -ms-animation: none;\n  /* Internet Explorer */\n\n  -o-animation: none;\n  /* Opera < 12.1 */\n\n  animation: none;\n  border-color: #dfdfdf;\n}\n.elWidgets-Dashboard-item:last-child {\n  padding-bottom: 0;\n}\n.elWidgets-Dashboard-item-top {\n  padding-top: 0;\n  margin-top: 0;\n  border-bottom: 1px solid #dfdfdf;\n}\n.elWidgets-Dashboard-item-top:hover .elWidgets-Dashboard-item-top-actions {\n  opacity: 1;\n}\n.elWidgets-Dashboard-item-top-actions {\n  opacity: 0.5;\n}\n.elWidgets-Dashboard-item-top-actions_fullAlpha {\n  opacity: 1;\n}\n.elWidgets-Dashboard-item-header {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  padding: 0;\n  border-bottom: 0;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  margin-top: 0;\n}\n.elWidgets-Dashboard-item-header_draggable {\n  cursor: move;\n}\n.elWidgets-Dashboard-item_dragged {\n  z-index: 1001;\n}\n.elWidgets-Dashboard-item-menu {\n  margin: 0;\n  display: none;\n}\n.elWidgets-Dashboard-item-menu_show {\n  display: inline-block;\n}\n.elWidgets-Dashboard-item-settings {\n  display: none;\n}\n.elWidgets-Dashboard-item-settings_show {\n  display: inline-block;\n}\n.elWidgets-Dashboard-item-separator {\n  display: none;\n}\n.elWidgets-Dashboard-item-separator_show {\n  display: inline-block;\n}\n.elWidgets-Dashboard_one-column > .elWidgets-Dashboard-column > .elWidgets-Dashboard-column-content > .elWidgets-Dashboard-item > .elWidgets-Dashboard-item-top > .ebLayout-HeadingCommands > .ebLayout-HeadingCommands-block > .elWidgets-Dashboard-item-maximize-minimize {\n  display: none;\n}\n"}),define("text!layouts/dashboard/Item/item.html",[],function(){return'<div class="elWidgets-Dashboard-item">\n    <div class="ebLayout-SectionHeading elWidgets-Dashboard-item-top">\n        <h3 class="elWidgets-Dashboard-item-header">Section Heading</h3>\n        <div class="ebLayout-HeadingCommands">\n            <div class="elWidgets-Dashboard-item-top-actions ebLayout-HeadingCommands-block">\n                <div class="ebLayout-HeadingCommands-iconHolder">\n                    <div class="elWidgets-Dashboard-item-menu"></div>\n                </div>\n                <div class="elWidgets-Dashboard-item-separator ebLayout-HeadingCommands-separator"></div>\n                <div class="ebLayout-HeadingCommands-iconHolder">\n                    <i class="elWidgets-Dashboard-item-settings ebIcon ebIcon_settings ebIcon_interactive" title="Settings"></i>\n                </div>\n            </div>\n        </div>\n        <div class="ebLayout-clearFix"></div>\n    </div>\n    <div class="elWidgets-Dashboard-item-content"></div>\n</div>'}),define("layouts/dashboard/Item/ItemView",["jscore/core","text!./item.html","styles!./item.less"],function(t,e,i){var n=t.View.extend({getTemplate:function(){return e},getStyle:function(){return i},setHeader:function(t){this.getElement().find("."+n.EL_HEADER).setText(t)},getContentDiv:function(){return this.getElement().find("."+n.EL_CONTENT)},getHeader:function(){return this.getElement().find("."+n.EL_HEADER)},setHeaderWidth:function(){var t=this.getTopActions().getProperty("offsetWidth");this.getHeader().setStyle("width","calc(100% - "+(t+5)+"px)")},getTop:function(){return this.getElement().find("."+n.EL_TOP)},getTopActions:function(){return this.getElement().find("."+n.EL_TOP_ACTIONS)},setPosition:function(t,e){this.getElement().setStyle({left:t+"px",top:e+"px"})},getMenu:function(){return this.getElement().find("."+n.EL_MENU)},getSeparator:function(){return this.getElement().find("."+n.EL_SEPARATOR)},showSeparator:function(){this.getSeparator().setModifier("show")},getSettings:function(){return this.getElement().find("."+n.EL_SETTINGS)},showSettings:function(){this.getSettings().setModifier("show")},showMenu:function(){this.getMenu().setModifier("show")},hideMenu:function(){this.getMenu().removeModifier("show")}},{EL:"elWidgets-Dashboard-item",EL_HEADER:"elWidgets-Dashboard-item-header",EL_TOP:"elWidgets-Dashboard-item-top",EL_TOP_ACTIONS:"elWidgets-Dashboard-item-top-actions",EL_CONTENT:"elWidgets-Dashboard-item-content",EL_SETTINGS:"elWidgets-Dashboard-item-settings",EL_SEPARATOR:"elWidgets-Dashboard-item-separator",EL_MENU:"elWidgets-Dashboard-item-menu",EL_MAXIMIZE:"elWidgets-Dashboard-item-maximize",EL_MINIMIZE:"elWidgets-Dashboard-item-minimize",EL_MAXIMIZE_MINIMIZE:"elWidgets-Dashboard-item-maximize-minimize",EL_CLOSE:"elWidgets-Dashboard-item-close"});return n}),define("layouts/dashboard/Item/Item",["jscore/core","widgets/utils/domUtils","widgets/WidgetCore","./ItemView","widgets/ContextMenu","../../ext/utils"],function(t,e,i,n,s,o){"use strict";return i.extend({View:n,init:function(t){this.header=t.header||"default header text",this.content=t.content,this.iid=t.iid,this.maximizable=t.maximizable||!1,this.maximizeText=t.maximizeText||"Maximize",this.minimizeText=t.minimizeText||"Minimize",this.closeText=t.closeText||"Close",this.settings=t.settings===!1?t.settings:!0,this.closable=void 0!==t.closable?t.closable:!0,this.customActions=t.customActions||[]},onViewReady:function(){this.view.setHeader(this.header),o.attachUIElement(this.content,this.view.getContentDiv()),this.bindDrag(),this.setActions(),this.contextMenu=new s({items:this.actions}),this.settings&&(this.view.showSettings(),this.view.getSettings().addEventHandler("click",function(){this.trigger("settings",this)}.bind(this))),this.actions.length>0&&this.settings&&this.view.showSeparator(),this.contextMenu.attachTo(this.view.getMenu())},onDOMAttach:function(){this.view.setHeaderWidth()},setActions:function(){this.actions=[],this.closable&&this.actions.push({name:this.closeText,action:this.close.bind(this)}),this.maximizable&&!this.maximized?this.actions.push({name:this.maximizeText,action:this.maximize.bind(this)}):this.maximizable&&this.maximized&&this.actions.push({name:this.minimizeText,action:this.minimize.bind(this)}),this.content.actions&&this.content.actions.length>0&&this.content.actions.forEach(function(t){this.actions.push({name:t.name,action:t.action.bind(this.content)})}.bind(this)),this.actions.length>0?this.view.showMenu():this.view.hideMenu()},changeActions:function(){this.setActions(),this.contextMenu.setItems(this.actions)},close:function(){this.trigger("close",this)},maximize:function(){this.trigger("maximize",this),this.maximized=!0,this.unbindDrag(),this.changeActions()},minimize:function(){this.trigger("minimize",this),this.maximized=!1,this.bindDrag(),this.changeActions()},bindDrag:function(){this.mouseDownEventId=this.view.getHeader().addEventHandler("mousedown",this.move.bind(this)),this.touchStartEventId=this.view.getHeader().addEventHandler("touchstart",this.move.bind(this)),this.view.getHeader().setModifier("draggable")},unbindDrag:function(){this.mouseDownEventId&&this.view.getHeader().removeEventHandler(this.mouseDownEventId),this.touchStartEventId&&this.view.getHeader().removeEventHandler(this.touchStartEventId),this.view.getHeader().removeModifier("draggable")},move:function(e){if("mousedown"!==e.originalEvent.type||1===e.originalEvent.which){this.getElement().setModifier("dragged"),e.originalEvent.stopPropagation(),e.originalEvent.preventDefault();var i=this.view.getElement().getProperty("offsetWidth");this.view.getElement().setStyle({position:"absolute",width:i+"px"}),this.originalTop=parseInt(this.view.getElement().getProperty("offsetTop")),this.originalLeft=parseInt(this.view.getElement().getProperty("offsetLeft")),"mousedown"===e.originalEvent.type?(this.mouseDownX=e.originalEvent.clientX,this.mouseDownY=e.originalEvent.clientY,this.mouseUpEventId=t.Window.addEventHandler("mouseup",this.drop.bind(this)),this.mouseMoveEventId=t.Window.addEventHandler("mousemove",this.drag.bind(this))):"touchstart"===e.originalEvent.type&&(this.mouseDownX=e.originalEvent.touches[0].clientX,this.mouseDownY=e.originalEvent.touches[0].clientY,this.mouseUpEventId=t.Window.addEventHandler("touchend",this.drop.bind(this)),this.mouseMoveEventId=t.Window.addEventHandler("touchmove",this.drag.bind(this))),this.view.setPosition(this.originalLeft,this.originalTop),this.trigger("pickedUp",e,this)}},drag:function(t){t.originalEvent.stopPropagation(),this.getCurrentCoordinates(t),this.view.setPosition(this.originalLeft+this.currentMouseDownX-this.mouseDownX,this.originalTop+this.currentMouseDownY-this.mouseDownY),this.view.getElement().setStyle("display","none"),this.targetElement=document.elementFromPoint(this.currentMouseDownX,this.currentMouseDownY),this.view.getElement().removeStyle("display"),this.view.getElement().setModifier("dragged"),this.trigger("dragged",t,this,this.targetElement)},getCurrentCoordinates:function(t){"mousemove"===t.originalEvent.type?(this.currentMouseDownX=t.originalEvent.clientX,this.currentMouseDownY=t.originalEvent.clientY):"touchmove"===t.originalEvent.type&&(this.currentMouseDownX=parseInt(t.originalEvent.touches[0].clientX),this.currentMouseDownY=parseInt(t.originalEvent.touches[0].clientY))},drop:function(e){e.originalEvent.stopPropagation(),this.getCurrentCoordinates(e),this.getElement().removeModifier("dragged"),this.mouseUpEventId&&(t.Window.removeEventHandler(this.mouseUpEventId),delete this.mouseUpEventId),this.mouseMoveEventId&&(t.Window.removeEventHandler(this.mouseMoveEventId),delete this.mouseMoveEventId),this.view.getElement().removeModifier("dragged"),this.revertMovement(),this.trigger("dropped",e,this,this.targetElement),delete this.targetElement},revertMovement:function(){this.view.getElement().removeStyle("position"),this.view.getElement().removeStyle("padding"),this.view.getElement().removeStyle("width","100%"),this.view.getElement().removeStyle("top"),this.view.getElement().removeStyle("left")},onDestroy:function(){this.content.destroy()},toJSON:function(){var t={header:this.header,type:this.content.id,maximizable:this.maximizable,maximize:this.maximized,closable:this.closable,iid:this.iid,maximizeText:this.maximizeText,minimizeText:this.minimizeText,closeText:this.closeText,settings:this.settings,config:this.content.toJSON?this.content.toJSON():this.content.options};return t}})}),define("layouts/ext/utils",["jscore/core"],function(t){"use strict";return{attachUIElement:function(e,i){e instanceof t.Widget?e.attachTo(i):e instanceof t.Region&&e.start(i)},detachUIElement:function(e){e instanceof t.Widget?e.detach():e instanceof t.Region&&e.stop()}}}),define("styles!layouts/dashboard/PlaceHolder/placeHolder.less",[],function(){return".elWidgets-Dashboard-placeHolder {\n  border: 1px dashed #dfdfdf;\n  border-radius: 3px;\n  background: #eff0f0;\n  z-index: 1;\n  text-align: center;\n}\n.elWidgets-Dashboard-placeHolder-header {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n"}),define("text!layouts/dashboard/PlaceHolder/placeHolder.html",[],function(){return'<div class="elWidgets-Dashboard-placeHolder">\n    <h4 class="elWidgets-Dashboard-placeHolder-header"></h4>\n</div>'}),define("layouts/dashboard/PlaceHolder/PlaceHolderView",["jscore/core","text!./placeHolder.html","styles!./placeHolder.less"],function(t,e,i){var n=t.View.extend({getTemplate:function(){return e},getStyle:function(){return i},setHeader:function(t){this.getElement().find("."+n.EL_HEADER).setText(t)},getHeader:function(){return this.getElement().find("."+n.EL_HEADER)},setHeight:function(t){this.getElement().setStyle({height:t})}},{EL:"elWidgets-Dashboard-placeHolder",EL_HEADER:"elWidgets-Dashboard-placeHolder-header"});return n}),define("layouts/dashboard/PlaceHolder/PlaceHolder",["jscore/core","widgets/utils/domUtils","widgets/WidgetCore","./PlaceHolderView"],function(t,e,i,n){"use strict";return i.extend({View:n,init:function(t){this.height=t.height,this.origin=t.origin,this.header=t.header||""},onViewReady:function(){this.height&&this.view.setHeight(this.height),this.view.getElement().setModifier(this.origin?"origin":"target"),this.view.setHeader(this.header)}})}),define("styles!layouts/dashboard/Column/column.less",[],function(){return".elWidgets-Dashboard-column {\n  vertical-align: top;\n}\n.elWidgets-Dashboard-column-footer {\n  height: 70px;\n}\n"}),define("text!layouts/dashboard/Column/column.html",[],function(){return'<div class="elWidgets-Dashboard-column">\n    <div class="elWidgets-Dashboard-column-content"></div>\n    <div class="elWidgets-Dashboard-column-footer"></div>\n</div>'}),define("layouts/dashboard/Column/ColumnView",["jscore/core","text!./column.html","styles!./column.less"],function(t,e,i){var n=t.View.extend({getTemplate:function(){return e},getStyle:function(){return i},getContentDiv:function(){return this.getElement().find("."+n.EL_CONTENT)}},{EL:"elWidgets-Dashboard-column",EL_CONTENT:"elWidgets-Dashboard-column-content",EL_FOOTER:"elWidgets-Dashboard-column-footer"});return n}),define("layouts/dashboard/Column/Column",["jscore/core","widgets/utils/domUtils","widgets/WidgetCore","./ColumnView","../PlaceHolder/PlaceHolder","../../ext/utils"],function(t,e,i,n,s,o){"use strict";function a(t,e){var i=t.getElement()._getHTMLElement(),n=this._items[e],s=this.view.getContentDiv()._getHTMLElement();t._parent=this.view.getContentDiv(),n?(n=n.getElement()._getHTMLElement(),s.insertBefore(i,n)):o.attachUIElement(t,this.view.getContentDiv())}return i.extend({View:n,init:function(t){this.items=t.items||[],this._items=[]},onViewReady:function(){},getItems:function(){return this._items},addOriginPlaceHolder:function(t){var e=this._items[t].getElement().getProperty("offsetHeight");this.originPlaceHolder=new s({height:e,origin:!0}),a.call(this,this.originPlaceHolder,t),this.originPlaceHolderPosition=t},addTargetPlaceHolder:function(t,e){t!==this.originPlaceHolderPosition&&t!==this.originPlaceHolderPosition+1&&(this.targetPlaceHolder&&this.clearTargetPlaceHolder(),this.targetPlaceHolder=new s({target:!0,header:e}),a.call(this,this.targetPlaceHolder,t),this.targetPlaceHolderPosition=t)},clearTargetPlaceHolder:function(){this.targetPlaceHolder&&(this.targetPlaceHolder.destroy(),delete this.targetPlaceHolderPosition)},clearOriginPlaceHolders:function(){this.originPlaceHolder&&(this.originPlaceHolder.destroy(),delete this.originPlaceHolderPosition),this.clearTargetPlaceHolder()},extract:function(t){var e=this._items[t];return e?(this._items.splice(t,1),o.detachUIElement(e),e):void 0},extractAll:function(){this.getItems().forEach(function(t){o.detachUIElement(t)}.bind(this));var t=this.getItems();return this._items=[],t},remove:function(t){var e=this.extract(t);e&&e.destroy()},add:function(t,e){e>=0&&e<this._items.length?a.call(this,t,e):o.attachUIElement(t,this.view.getContentDiv()),this._items.splice(e,0,t)},move:function(t,e){var i=this._items.indexOf(t);-1!==i&&(t=this.extract(i),this.add(t,e))},onDestroy:function(){this.getItems().forEach(function(t){t.destroy()})},toJSON:function(){var t=[];return this.getItems().forEach(function(e){t.push(e.toJSON())}),t},get:function(t){for(var e=this.getItems(),i=0;i<=e.length-1;i++)if(e[i].iid===t)return e[i].content}})}),define("styles!layouts/dashboard/dashboard.less",[],function(){return".elWidgets-Dashboard {\n  margin-top: 20px;\n  height: 100%;\n}\n.elWidgets-Dashboard-column {\n  display: inline-block;\n}\n.elWidgets-Dashboard-content_three-columns-30-40-30 > .elWidgets-Dashboard-column {\n  width: calc(30% - 24px);\n  margin-right: 36px;\n}\n.elWidgets-Dashboard-content_three-columns-30-40-30 > .elWidgets-Dashboard-column:nth-child(2) {\n  width: calc(40% - 24px);\n}\n.elWidgets-Dashboard-content_three-columns-30-40-30 > .elWidgets-Dashboard-column:last-child {\n  margin-right: 0;\n}\n.elWidgets-Dashboard-content_three-columns > .elWidgets-Dashboard-column {\n  width: calc(33.33% - 24px);\n  margin-right: 36px;\n}\n.elWidgets-Dashboard-content_three-columns > .elWidgets-Dashboard-column:last-child {\n  margin-right: 0;\n}\n.elWidgets-Dashboard-content_four-columns > .elWidgets-Dashboard-column {\n  width: calc(25% - 27px);\n  margin-right: 36px;\n}\n.elWidgets-Dashboard-content_four-columns > .elWidgets-Dashboard-column:last-child {\n  margin-right: 0;\n}\n.elWidgets-Dashboard-content_two-columns > .elWidgets-Dashboard-column {\n  width: calc(50% - 18px);\n  margin-right: 36px;\n}\n.elWidgets-Dashboard-content_two-columns > .elWidgets-Dashboard-column:last-child {\n  margin-right: 0;\n}\n.elWidgets-Dashboard-content_two-columns-30-70 > .elWidgets-Dashboard-column {\n  width: calc(30% - 18px);\n  margin-right: 36px;\n}\n.elWidgets-Dashboard-content_two-columns-30-70 > .elWidgets-Dashboard-column:last-child {\n  width: calc(70% - 18px);\n  margin-right: 0;\n}\n.elWidgets-Dashboard-content_two-columns-70-30 > .elWidgets-Dashboard-column {\n  width: calc(70% - 18px);\n  margin-right: 36px;\n}\n.elWidgets-Dashboard-content_two-columns-70-30 > .elWidgets-Dashboard-column:last-child {\n  width: calc(30% - 18px);\n  margin-right: 0;\n}\n.elWidgets-Dashboard-content_one-column > .elWidgets-Dashboard-column {\n  width: 100%;\n}\n@media (max-width: 600px) {\n  .elWidgets-Dashboard-column {\n    min-height: none;\n  }\n  .elWidgets-Dashboard-content_two-columns > .elWidgets-Dashboard-column,\n  .elWidgets-Dashboard-content_two-columns-70-30 > .elWidgets-Dashboard-column,\n  .elWidgets-Dashboard-content_two-columns-30-70 > .elWidgets-Dashboard-column,\n  .elWidgets-Dashboard-content_three-columns > .elWidgets-Dashboard-column,\n  .elWidgets-Dashboard-content_three-columns-30-40-30 > .elWidgets-Dashboard-column,\n  .elWidgets-Dashboard-content_three-columns-30-40-30 > .elWidgets-Dashboard-column:nth-child(2),\n  .elWidgets-Dashboard-content_four-columns > .elWidgets-Dashboard-column {\n    width: 100%;\n    margin: 0;\n    height: auto;\n  }\n  .elWidgets-Dashboard-content_two-columns-70-30 > .elWidgets-Dashboard-column:last-child,\n  .elWidgets-Dashboard-content_two-columns-30-70 > .elWidgets-Dashboard-column:last-child {\n    margin-right: 0;\n    width: 100%;\n    height: auto;\n  }\n  .elWidgets-Dashboard-column-footer {\n    height: 0;\n  }\n}\n@media (min-width: 600px) and (max-width: 992px) {\n  .elWidgets-Dashboard-column {\n    min-height: none;\n  }\n  .elWidgets-Dashboard-content_two-columns-70-30 > .elWidgets-Dashboard-column,\n  .elWidgets-Dashboard-content_two-columns-30-70 > .elWidgets-Dashboard-column,\n  .elWidgets-Dashboard-content_three-columns > .elWidgets-Dashboard-column,\n  .elWidgets-Dashboard-content_three-columns-30-40-30 > .elWidgets-Dashboard-column,\n  .elWidgets-Dashboard-content_four-columns > .elWidgets-Dashboard-column {\n    width: calc(50% - 18px);\n    margin-right: 36px;\n  }\n  .elWidgets-Dashboard-content_two-columns-70-30 > .elWidgets-Dashboard-column:nth-child(even),\n  .elWidgets-Dashboard-content_two-columns-30-70 > .elWidgets-Dashboard-column:nth-child(even),\n  .elWidgets-Dashboard-content_three-columns > .elWidgets-Dashboard-column:nth-child(even),\n  .elWidgets-Dashboard-content_three-columns-30-40-30 > .elWidgets-Dashboard-column:nth-child(even),\n  .elWidgets-Dashboard-content_four-columns > .elWidgets-Dashboard-column:nth-child(even) {\n    margin-right: 0;\n    width: calc(50% - 18px);\n  }\n}\n"}),define("text!layouts/dashboard/dashboard.html",[],function(){return'<div class="elWidgets-Dashboard">\n    <div class="elWidgets-Dashboard-top"></div>\n    <div class="elWidgets-Dashboard-content"></div>\n</div>'}),define("layouts/dashboard/DashboardView",["jscore/core","text!./dashboard.html","styles!./dashboard.less"],function(t,e,i){var n=t.View.extend({getTemplate:function(){return e},getStyle:function(){return i},getTop:function(){return this.getElement().find("."+n.EL_TOP)},getContent:function(){return this.getElement().find("."+n.EL_CONTENT)}},{EL:"elWidgets-Dashboard",EL_TOP:"elWidgets-Dashboard-top",EL_CONTENT:"elWidgets-Dashboard-content"});return n}),define("layouts/dashboard/Dashboard",["jscore/core","widgets/utils/domUtils","widgets/WidgetCore","./DashboardView","./Column/Column","./Item/Item","../ext/utils"],function(t,e,i,n,s,o,a){"use strict";function d(t){t.forEach(function(t){void 0!==t.prototype.id&&(this._references[t.prototype.id]=t)}.bind(this))}function r(){this._layoutOptions=this._availableLayouts[this._layout]}function l(){this.eventBus.publish("dashboard:change",this)}function h(){this.getColumns().forEach(function(t){t.attachTo(this.view.getContent())}.bind(this))}function c(){this._columns=[],r.call(this);var t=!1;this._layoutOptions.forEach(function(e,i){var n=new s({context:this.context,width:e.width});this._items[i]&&this._items[i].forEach(function(e){var i=m.call(this,e);a.attachUIElement(i,n.view.getContentDiv()),n._items.push(i),i.options.maximize&&(t=i)}.bind(this)),this._columns.push(n)}.bind(this)),t&&t.maximize()}function m(t){"Dashboard"===t.type&&(t.config.references=this._references),"string"==typeof t.type&&void 0!==this._references[t.type]&&(t.type=this._references[t.type]),t.config.context=this.context;var e=new o({header:t.header,content:new t.type(t.config||{}),maximizable:t.maximizable,maximize:t.maximize,iid:t.iid,closable:t.closable,closeText:this.options.closeText,maximizeText:this.options.maximizeText,minimizeText:this.options.minimizeText,settings:t.settings});return e.addEventHandler("dropped",E.bind(this)),e.addEventHandler("pickedUp",v.bind(this)),e.addEventHandler("dragged",p.bind(this)),e.addEventHandler("close",x.bind(this)),e.addEventHandler("maximize",D.bind(this)),e.addEventHandler("minimize",w.bind(this)),e.addEventHandler("settings",_.bind(this)),e}function g(t){return this._targetColumn.targetPlaceHolder.getElement()===t||this._targetColumn.targetPlaceHolder.getElement()._getHTMLElement().contains(t)}function u(t){return this._originalColumn&&(this._originalColumn.originPlaceHolder.getElement()===t||this._originalColumn.originPlaceHolder.getElement()._getHTMLElement().contains(t))}function f(){delete this.maximizedItemColumn,delete this.maximizedItemIndex,delete this.maximizedItem}function b(t){var e;return this.getColumns().forEach(function(i){-1!==i.getItems().indexOf(t)&&(e=i)}.bind(this)),e}function v(t,e){this._originalColumn=b.call(this,e),this._originalColumn.addOriginPlaceHolder(this._originalColumn.getItems().indexOf(e))}function p(t,e,i){return W.call(this,i),this._targetColumn?void(this._targetColumn&&this._targetColumn.targetPlaceHolder&&g.call(this,i)||(u.call(this,i)?this._targetColumn.clearTargetPlaceHolder():this._targetColumn.addTargetPlaceHolder(this._targetPosition,e.header))):C.call(this)}function E(e,i,n){this._targetColumn&&(u.call(this,n)||(g.call(this,n)?(this._originalColumn.extract(this._originalColumn.getItems().indexOf(i)),this._targetColumn.add(i,this._targetColumn.targetPlaceHolderPosition),l.call(this)):this._targetColumn==this._originalColumn?(this._originalColumn.move(i,this._targetPosition),l.call(this)):(this._originalColumn.extract(this._originalColumn.getItems().indexOf(i)),this._targetColumn.add(i,this._targetPosition),l.call(this)))),y.call(this),delete this._originalColumn,delete this._targetColumn,delete this._targetPosition,t.Window.trigger("resize")}function x(t){var e=!1;this.getColumns().forEach(function(i){-1!==i._items.indexOf(t)&&(e=i)}.bind(this)),e?e.remove(e.getItems().indexOf(t)):this.maximizedItem&&(this.maximizedItem.destroy(),f.call(this)),l.call(this)}function D(e){this.maximizedItem&&this.maximizedItem.minimize(),this.maximizedItemColumn=b.call(this,e),this.maximizedItemIndex=this.maximizedItemColumn.getItems().indexOf(e),this.maximizedItem=this.maximizedItemColumn.extract(this.maximizedItemIndex),a.attachUIElement(this.maximizedItem,this.view.getTop()),t.Window.trigger("resize")}function w(){this.maximizedItemColumn?this.maximizedItemColumn.add(this.maximizedItem,this.maximizedItemIndex):this.getColumns()[0].add(this.maximizedItem,this.maximizedItemIndex),t.Window.trigger("resize"),f.call(this)}function _(t){t.content.onSettings?t.content.onSettings.call(t.content):this.eventBus.publish("dashboard:settings",t.content,b.call(this,t))}function W(t){this._targetColumn=!1,this.getColumns().forEach(function(e){e.getElement()._getHTMLElement().contains(t)&&(this._targetColumn=e)}.bind(this)),this._targetColumn?(this._targetPosition=this._targetColumn.getItems().length,this._targetColumn.getItems().forEach(function(e,i){(e.getElement()._getHTMLElement()==t||e.getElement()._getHTMLElement().contains(t))&&(this._targetPosition=i)}.bind(this))):this._targetPosition=!1}function y(){this.getColumns().forEach(function(t){t.clearOriginPlaceHolders()})}function C(){this.getColumns().forEach(function(t){t.clearTargetPlaceHolder()})}var H=i.extend({View:n,id:"Dashboard",init:function(t){this.eventBus=this.context.eventBus,this._availableLayouts={"one-column":[{width:100}],"two-columns":[{width:50},{width:50}],"two-columns-30-70":[{width:30},{width:70}],"two-columns-70-30":[{width:70},{width:30}],"three-columns":[{width:33},{width:33},{width:33}],"three-columns-30-40-30":[{width:30},{width:40},{width:30}],"four-columns":[{width:25},{width:25},{width:25},{width:25}]},this._layout=-1!==Object.keys(this._availableLayouts).indexOf(t.layout)?t.layout:"four-columns",this._items=t.items,this._references={},t.references&&t.references.length>0&&d.call(this,t.references),this._references.Dashboard=H},getColumns:function(){return this._columns},getNumberOfColumns:function(){return this.getColumns().length},getCurrentLayout:function(){return this._layout},addReferences:function(t){d.call(this,t)},addItem:function(t,e,i){var n=m.call(this,t),s=this.getColumns()[e];s&&(s.add(n,i),n.onDOMAttach())},removeItem:function(t,e){var i=this.getColumns()[t];if(i){var n=i.extract(e);n&&n.destroy()}},getAvailableLayouts:function(){return Object.keys(this._availableLayouts)},changeLayout:function(e){function i(t){return s>=t&&(s=0),s++}if(-1!==Object.keys(this._availableLayouts).indexOf(e)){var n=[];this.getColumns().forEach(function(t){n=n.concat(t.extractAll()),t.destroy()}.bind(this)),this.view.getContent().removeModifier(this._layout),this._layout=e,this._items=[],c.call(this),this.onDOMAttach();var s=0;n.forEach(function(t){var e=i(this.getColumns().length);this.getColumns()[e].add(t,0)}.bind(this)),this.maximizedItem&&(this.maximizedItemColumn=this.getColumns()[0]),l.call(this),t.Window.trigger("resize")}},onViewReady:function(){c.call(this)},onDOMAttach:function(){h.call(this),this.view.getContent().setModifier(this._layout)},onDestroy:function(){this.getColumns().forEach(function(t){t.destroy()})},toJSON:function(){var t=[];if(this.getColumns().forEach(function(e){t.push(e.toJSON())}.bind(this)),this.maximizedItem){var e=this.getColumns().indexOf(this.maximizedItemColumn);-1!==e&&t[e].splice(this.maximizedItemIndex,0,this.maximizedItem.toJSON())}return{type:"Dashboard",layout:this._layout,items:t,maximizeText:this.options.maximizeText,minimizeText:this.options.minimizeText,closeText:this.options.closeText}},getItem:function(t,e){return this.getColumns()[t].getItems()[e].content},get:function(t){for(var e=this.getColumns(),i=0;i<=e.length-1;i++){var n=e[i].get(t);if(void 0!==n)return n}}});return H}),define("layouts/Dashboard",["layouts/dashboard/Dashboard"],function(t){return t});